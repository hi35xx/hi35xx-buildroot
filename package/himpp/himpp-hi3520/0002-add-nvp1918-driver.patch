diff -uNr mpp/extdrv_hi3520A/nvp1918/audio.c mpp.modified/extdrv_hi3520A/nvp1918/audio.c
--- mpp/extdrv_hi3520A/nvp1918/audio.c	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/audio.c	2015-12-27 15:23:19.417703036 +0800
@@ -0,0 +1,80 @@
+#include <linux/kernel.h>
+#include <linux/version.h>
+#include <linux/module.h>
+#include <linux/types.h>
+#include <linux/errno.h>
+#include <linux/fcntl.h>
+#include <linux/mm.h>
+#include <linux/miscdevice.h>
+#include <linux/proc_fs.h>
+
+#include <linux/fs.h>
+#include <linux/slab.h>
+#include <linux/init.h>
+#include <asm/uaccess.h>
+#include <asm/io.h>
+#include <asm/system.h>
+#include <linux/interrupt.h>
+#include <linux/ioport.h>
+#include <linux/string.h>
+#include <linux/list.h>
+#include <asm/delay.h>
+#include <linux/timer.h>
+#include <linux/delay.h>
+#include <linux/proc_fs.h>
+#include <linux/poll.h>
+#include <asm/bitops.h>
+#include <asm/uaccess.h>
+#include <asm/irq.h>
+#include <linux/moduleparam.h>
+#include <linux/ioport.h>
+#include <linux/interrupt.h>
+
+#include "gpio_i2c.h"
+
+/*
+param:
+dec[4]= {0x60,0x62,0x64,0x66};
+ch_num: audio channel number
+samplerate: 0[8k], 1[16k]
+bits: 0[16bits], 1[8bits]
+*/
+void audio_init(unsigned char dec, unsigned char ch_num, unsigned char samplerate, unsigned char bits)
+{
+	gpio_i2c_write(dec, 0xff, 0x01);
+	if( (dec == 0x60) || (dec == 0x64))
+	{
+		gpio_i2c_write(dec, 0x06, 0x1a);
+		gpio_i2c_write(dec, 0x07, 0x80|(samplerate<<3)|(bits<<2));	//Rec I2C 16K 16bit : master
+		if(8 == ch_num)
+		{
+			gpio_i2c_write(dec, 0x06, 0x1b);
+			gpio_i2c_write(dec, 0x08, 0x02);
+			gpio_i2c_write(dec, 0x0e, 0x54);
+			gpio_i2c_write(dec, 0x0f, 0x76);
+		}
+		else if(4 == ch_num)
+		{
+			gpio_i2c_write(dec, 0x06, 0x1b);
+			gpio_i2c_write(dec, 0x08, 0x01);
+			gpio_i2c_write(dec, 0x0e, 0x32);
+		}
+		gpio_i2c_write(dec, 0x13, 0x80|(samplerate<<3)|(bits<<2));	// PB I2C 8k 16bit : master
+		gpio_i2c_write(dec, 0x23, 0x10);  // Audio playback out
+	}
+	else
+	{
+		gpio_i2c_write(dec, 0x06, 0x19);
+		gpio_i2c_write(dec, 0x07, 0x00|(samplerate<<3)|(bits<<2));	//Rec I2C 16K 16bit : master
+		gpio_i2c_write(dec, 0x13, 0x00|(samplerate<<3)|(bits<<2));	// PB I2C 8k 16bit : master
+	}
+	gpio_i2c_write(dec, 0x01, 0x88);  // Audio input gain init
+	gpio_i2c_write(dec, 0x02, 0x88);
+	gpio_i2c_write(dec, 0x03, 0x88);
+	gpio_i2c_write(dec, 0x04, 0x88);
+	gpio_i2c_write(dec, 0x05, 0x88);
+	gpio_i2c_write(dec, 0x22, 0x80);  //aogain
+
+	gpio_i2c_write(dec, 0x24, 0x14); //set mic_1's data to i2s_sp left channel
+	gpio_i2c_write(dec, 0x25, 0x15); //set mic_2's data to i2s_sp right channel
+}
diff -uNr mpp/extdrv_hi3520A/nvp1918/coax_protocol.c mpp.modified/extdrv_hi3520A/nvp1918/coax_protocol.c
--- mpp/extdrv_hi3520A/nvp1918/coax_protocol.c	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/coax_protocol.c	2015-12-27 15:23:19.417703036 +0800
@@ -0,0 +1,805 @@
+/*************************************************************************
+        Project : AWB Mapping One Block Program
+        File Name: nvp1104.c
+        Compiler: AVR IAR Compiler
+        Author  : NEXTCHIP(c) cshong
+        Data    : 2008.04.25
+        Version : 1.00
+        Dicription
+
+        ----------------------------------------------------------
+            Copyright(c) 2001 by Black_List All Rights Reserved
+
+**************************************************************************
+	Header file include
+**************************************************************************/
+#include <linux/kernel.h>
+#include <linux/version.h>
+#include <linux/module.h>
+#include <linux/types.h>
+#include <linux/errno.h>
+#include <linux/fcntl.h>
+#include <linux/mm.h>
+#include <linux/miscdevice.h>
+#include <linux/proc_fs.h>
+
+#include <linux/fs.h>
+#include <linux/slab.h>
+#include <linux/init.h>
+#include <asm/uaccess.h>
+#include <asm/io.h>
+#include <asm/system.h>
+#include <linux/interrupt.h>
+#include <linux/ioport.h>
+#include <linux/string.h>
+#include <linux/list.h>
+#include <asm/delay.h>
+#include <linux/timer.h>
+#include <linux/delay.h>
+#include <linux/proc_fs.h>
+#include <linux/poll.h>
+#include <asm/bitops.h>
+#include <asm/uaccess.h>
+#include <asm/irq.h>
+#include <linux/moduleparam.h>
+#include <linux/ioport.h>
+#include <linux/interrupt.h>
+
+#include "gpio_i2c.h"
+//#include "nvp1918_def.h"
+//#include "nvp1918.h"
+
+#include "common.h"
+
+/*************************************************************************
+	Global Variables Definition
+*************************************************************************/
+unsigned char g_system = 1;
+/*************************************************************************
+	SAMSUNG PROTOCOL Regiter set value Definition
+*************************************************************************/
+										 //  0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F
+unsigned char SAM_SET_Buf[] 		={ /*1*/ 0xAA,0x1C,0x18,0xFF,0xAA,0x3C,0xFF,0xFF,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_OSD_Buf[] 		={ /*1*/ 0xAA,0x1C,0x17,0x01,0xAA,0x3C,0xFF,0xFF,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_UP_Buf[] 			={ /*1*/ 0xAA,0x1C,0x03,0xFF,0xAA,0x3C,0xFF,0xFF,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_DOWN_Buf[] 		={ /*1*/ 0xAA,0x1C,0x09,0xFF,0xAA,0x3C,0xFF,0xFF,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_LEFT_Buf[] 		={ /*1*/ 0xAA,0x1C,0x05,0xFF,0xAA,0x3C,0xFF,0xFF,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_RIGHT_Buf[] 		={ /*1*/ 0xAA,0x1C,0x07,0xFF,0xAA,0x3C,0xFF,0xFF,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PTZ_UP_Buf[] 		={ /*1*/ 0xAA,0x1B,0x00,0x04,0xAA,0x3B,0x00,0x1F,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PTZ_DOWN_Buf[] 	={ /*1*/ 0xAA,0x1B,0x00,0x08,0xAA,0x3B,0x00,0x1F,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PTZ_LEFT_Buf[] 	={ /*1*/ 0xAA,0x1B,0x00,0x01,0xAA,0x3B,0x1F,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PTZ_RIGHT_Buf[] 	={ /*1*/ 0xAA,0x1B,0x00,0x02,0xAA,0x3B,0x1F,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_IRIS_OPEN_Buf[] 	={ /*1*/ 0xAA,0x1B,0x08,0x00,0xAA,0x3B,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_IRIS_CLOSE_Buf[]	={ /*1*/ 0xAA,0x1B,0x10,0x00,0xAA,0x3B,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_FOCUS_NEAR_Buf[]	={ /*1*/ 0xAA,0x1B,0x02,0x00,0xAA,0x3B,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_FOCUS_FAR_Buf[] 	={ /*1*/ 0xAA,0x1B,0x01,0x00,0xAA,0x3B,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_ZOOM_WIDE_Buf[] 	={ /*1*/ 0xAA,0x1B,0x40,0x00,0xAA,0x3B,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_ZOOM_TELE_Buf[] 	={ /*1*/ 0xAA,0x1B,0x20,0x00,0xAA,0x3B,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_SCAN_1SR_Buf[] 	={ /*1*/ 0xAA,0x1C,0x13,0x01,0xAA,0x3C,0x01,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_SCAN_1ST_Buf[] 	={ /*1*/ 0xAA,0x1C,0x13,0x00,0xAA,0x3C,0x01,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PRESET1_Buf[] 	={ /*1*/ 0xAA,0x1C,0x19,0x01,0xAA,0x3C,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PRESET2_Buf[] 	={ /*1*/ 0xAA,0x1C,0x19,0x02,0xAA,0x3C,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PRESET3_Buf[] 	={ /*1*/ 0xAA,0x1C,0x19,0x03,0xAA,0x3C,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PATTERN_1SR_Buf[] ={ /*1*/ 0xAA,0x1C,0x1B,0x01,0xAA,0x3C,0x01,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PATTERN_1ST_Buf[] ={ /*1*/ 0xAA,0x1C,0x1B,0x01,0xAA,0x3C,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PATTERN_2SR_Buf[] ={ /*1*/ 0xAA,0x1C,0x1B,0x02,0xAA,0x3C,0x01,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PATTERN_2ST_Buf[] ={ /*1*/ 0xAA,0x1C,0x1B,0x02,0xAA,0x3C,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PATTERN_3SR_Buf[] ={ /*1*/ 0xAA,0x1C,0x1B,0x03,0xAA,0x3C,0x01,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+unsigned char SAM_PATTERN_3ST_Buf[] ={ /*1*/ 0xAA,0x1C,0x1B,0x03,0xAA,0x3C,0x00,0x00,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00 };
+
+
+/**************************************************************************
+	Function prototype
+**************************************************************************/
+void init_OCTOPUS_CTRL( void );
+void pelco_reset( void );
+void pelco_set( void );
+void pelco_up( void );
+void pelco_down( void );
+void pelco_left( void );
+void pelco_right( void );
+void pelco_osd( void );
+void pelco_iris_open( void );
+void pelco_iris_close( void );
+void pelco_focus_near( void );
+void pelco_focus_far( void );
+void pelco_zoom_wide( void );
+void pelco_zoom_tele( void );
+
+void pelco_scan_1_sr( void );
+void pelco_scan_1_st( void );
+void pelco_preset_1( void );
+void pelco_preset_2( void );
+void pelco_preset_3( void );
+void pelco_pattern_1_sr( void );
+void pelco_pattern_1_st( void );
+void pelco_pattern_2_sr( void );
+void pelco_pattern_2_st( void );
+void pelco_pattern_3_sr( void );
+void pelco_pattern_3_st( void );
+void pelco_pattern_run( void );
+
+
+void samsung_clk_set( void );
+void samsung_set( void );
+void samsung_up( void );
+void samsung_down( void );
+void samsung_left( void );
+void samsung_right( void );
+void samsung_osd( void );
+void samsung_ptz_up( void );
+void samsung_ptz_down( void );
+void samsung_ptz_left( void );
+void samsung_ptz_right( void );
+void samsung_iris_open( void );
+void samsung_iris_close( void );
+void samsung_focus_near( void );
+void samsung_focus_far( void );
+void samsung_zoom_wide( void );
+void samsung_zoom_tele( void );
+
+void samsung_scan_1_sr( void );
+void samsung_scan_1_st( void );
+void samsung_preset_1( void );
+void samsung_preset_2( void );
+void samsung_preset_3( void );
+void samsung_pattern_1_sr( void );
+void samsung_pattern_1_st( void );
+void samsung_pattern_2_sr( void );
+void samsung_pattern_2_st( void );
+void samsung_pattern_3_sr( void );
+void samsung_pattern_3_st( void );
+
+
+extern void vdec_write_table(unsigned char chip_addr, unsigned char addr, unsigned char *tbl_ptr, unsigned char tbl_cnt);
+
+void vdec_coaxial_select_ch(unsigned int ch)
+{
+	int i = 0;
+
+	gpio_i2c_write( NVP1918+i, 0xFF, 0x01);
+	gpio_i2c_write( NVP1918+i, 0x8B, ch);
+}
+
+void vdec_coaxial_init(void)
+{
+	int i = 0;
+	gpio_i2c_write( NVP1918+i, 0xFF, 0x01);
+	gpio_i2c_write( NVP1918+i, 0xBC, 0xDD);
+	gpio_i2c_write( NVP1918+i, 0xBD, 0xDD);
+	gpio_i2c_write( NVP1918+i, 0xBE, 0xDD);
+	gpio_i2c_write( NVP1918+i, 0xBF, 0xDD);
+	//gpio_i2c_write( NVP1918+i, 0x8B, 0x00);
+}
+
+void pelco_coax_mode( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+
+	gpio_i2c_write( FPGA_AFE, COAX_BAUD, 	0x37 );
+	gpio_i2c_write( FPGA_AFE, BL_HSP01, 	0x46 );
+	gpio_i2c_write( FPGA_AFE, PACKET_MODE, 	0x06 );
+	gpio_i2c_write( FPGA_AFE, PEL_CTEN, 	0x00 );
+	gpio_i2c_write( FPGA_AFE, HSO_INV, 		0x01 );
+	gpio_i2c_write( FPGA_AFE, EVEN_LINE, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_TXST1, 	0x09 ); //tony 11.26
+	printk("Pelco 32bit mode\n");
+}
+
+void pelco_reset( void )
+{
+	msleep( 20 );
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+	msleep( 20 );
+}
+
+void pelco_set(void)
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x40 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+	printk("Camera Setting mode\n");
+}
+
+void pelco_up(void)
+{
+	pelco_reset();
+
+	gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+	gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x10 );			// PELCO_DATA_02 FIRST
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x4C );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+	printk("Camera Up moving mode\n");
+}
+
+void pelco_down(void)
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0,   0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1,   0x08 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2,   0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3,   0x4C );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT,  0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT,  0x00 );
+	printk("Camera Down moving mode\n");
+}
+
+void pelco_left(void)
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0,  	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1,  	0x20 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2,  	0x4C );
+    gpio_i2c_write( FPGA_AFE, PEL_D3,  	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+	printk("Camera Left moving mode\n");
+}
+
+void pelco_right(void)
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x40 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x4C );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+	printk("Camera Right moving mode\n");
+}
+
+void pelco_osd(void)
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xC0 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0xFA );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO OSD ON mode\n");
+}
+
+void pelco_iris_open( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x40 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO IRIS OPEN mode\n");
+}
+
+void pelco_iris_close( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x20 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO IRIS CLOSE mode\n");
+}
+
+void pelco_focus_near( void )
+{
+	pelco_reset();
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x80 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO FOCUS NEAR mode\n");
+}
+
+void pelco_focus_far( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x01 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO FOCUS FAR mode\n");
+}
+
+void pelco_zoom_wide( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x02 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO ZOOM WIDE mode\n");
+}
+
+void pelco_zoom_tele( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x04 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	msleep( 300 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO ZOOM TELE mode\n");
+}
+
+void pelco_scan_1_sr( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xE0 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x46 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO SCAN 1 SR mode\n");
+}
+void pelco_scan_1_st( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xE0 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO SCAN 1 ST mode\n");
+}
+void pelco_preset_1( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xE0 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x80 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO PRESET 1 mode\n");
+}
+void pelco_preset_2( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xE0 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x40 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("\r\nPELCO PRESET 2 mode ");
+}
+void pelco_preset_3( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xE0 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0xC0 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO PRESET 3 mode\n");
+}
+void pelco_pattern_1_sr( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xF8 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x01 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO PATTERN 1 SR mode\n");
+}
+void pelco_pattern_1_st( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x84 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x01 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO PATTERN 1 ST mode\n");
+}
+void pelco_pattern_2_sr( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xF8 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x02 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO PATTERN 2 SR mode\n");
+}
+void pelco_pattern_2_st( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x84 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x02 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO PATTERN 2 ST mode\n");
+}
+void pelco_pattern_3_sr( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xF8 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x03 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO PATTERN 3 SR mode\n");
+}
+void pelco_pattern_3_st( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0x84 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x03 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO PATTERN 3 ST mode\n");
+}
+void pelco_pattern_run( void )
+{
+	pelco_reset();
+
+    gpio_i2c_write( FPGA_AFE, PEL_D0, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D1, 	0xC4 );
+    gpio_i2c_write( FPGA_AFE, PEL_D2, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_D3, 	0x00 );
+    gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x01 );
+	gpio_i2c_write( FPGA_AFE, PEL_OUT, 	0x00 );
+
+	printk("PELCO PATTERN RUN mode\n");
+}
+
+void samsung_coax_mode( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+
+	gpio_i2c_write( FPGA_AFE, COAX_BAUD, 0x37 );
+	gpio_i2c_write( FPGA_AFE, BL_HSP01, 0x46 );
+	gpio_i2c_write( FPGA_AFE, TX_START, 0x00 );
+	gpio_i2c_write( FPGA_AFE, TX_BYTE_LEN, 0x08 );			// 2Line mode
+	gpio_i2c_write( FPGA_AFE, PACKET_MODE, 0x00 );
+
+	// Video format select
+	gpio_i2c_write( FPGA_AFE, BL_TXST1, 	g_system? 0x06 : 0x05 );	// TX Line
+	gpio_i2c_write( FPGA_AFE, BL_RXST1, 	g_system? 0x08 : 0x07 );	// RX Line
+	gpio_i2c_write( FPGA_AFE, COAX_BAUD, 	g_system? 0x23 : 0x37 );	// TX Duty rate
+	gpio_i2c_write( FPGA_AFE, COAX_RBAUD, 	g_system? 0x23 : 0x37 );	// TX Duty rate
+
+	gpio_i2c_write( FPGA_AFE, EVEN_LINE, 0x01 );
+
+	printk("Samsung 2 line mode\n") ;
+}
+
+void samsung_clk_set( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+	gpio_i2c_write( FPGA_AFE, SAM_OUT, 0x01 );
+	gpio_i2c_write( FPGA_AFE, SAM_OUT, 0x00);
+	msleep( 200 );
+}
+
+void samsung_set( void )
+{
+
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_SET_Buf, 16);
+	samsung_clk_set();
+
+	printk("***samsung ENTER mode ***\n");
+}
+
+void samsung_up( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_UP_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung UP mode***");
+}
+
+void samsung_down( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_DOWN_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung DOWN mode***");
+}
+
+void samsung_left( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_LEFT_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung LEFT SET ***");
+}
+
+void samsung_right( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_RIGHT_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung RIGHT SET ***");
+}
+
+void samsung_osd( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_OSD_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung OSD ON SET ***");
+}
+
+void samsung_ptz_up( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PTZ_UP_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PTZ UP mode***");
+}
+
+void samsung_ptz_down( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PTZ_DOWN_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PTZ DOWN mode***");
+}
+
+void samsung_ptz_left( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PTZ_LEFT_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PTZ LEFT SET ***");
+}
+
+void samsung_ptz_right( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PTZ_RIGHT_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PTZ RIGHT SET ***");
+}
+
+void samsung_iris_open( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_IRIS_OPEN_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung IRIS OPEN SET ***");
+}
+
+void samsung_iris_close( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_IRIS_CLOSE_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung IRIS CLOSE SET ***");
+}
+
+void samsung_focus_near( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_FOCUS_NEAR_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung FOCUS NEAR mode***");
+}
+
+void samsung_focus_far( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_FOCUS_FAR_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung FOCUS FAR mode***");
+}
+
+void samsung_zoom_wide( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_ZOOM_WIDE_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung ZOOM WIDE SET ***");
+}
+
+void samsung_zoom_tele( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_ZOOM_TELE_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung ZOOM TELE SET ***");
+}
+
+void samsung_scan_1_sr( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_SCAN_1SR_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung SAM_SCAN_1SR SET ***");
+}
+
+void samsung_scan_1_st( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_SCAN_1ST_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung SAM_SCAN_1ST SET ***");
+}
+
+void samsung_preset_1( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PRESET1_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PRESET1 SET ***");
+}
+
+void samsung_preset_2( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PRESET2_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PRESET2 SET ***");
+}
+
+void samsung_preset_3( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PRESET3_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PRESET3 SET ***");
+}
+
+void samsung_pattern_1_sr( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PATTERN_1SR_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PATTERN_1SR SET ***");
+}
+
+void samsung_pattern_1_st( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PATTERN_1ST_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PATTERN_1ST SET ***");
+}
+
+void samsung_pattern_2_sr( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PATTERN_2SR_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PATTERN_2SR SET ***");
+}
+
+void samsung_pattern_2_st( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PATTERN_2ST_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PATTERN_2ST SET ***") ;
+}
+
+void samsung_pattern_3_sr( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PATTERN_3SR_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PATTERN_3SR SET ***") ;
+}
+
+void samsung_pattern_3_st( void )
+{
+	gpio_i2c_write( FPGA_AFE, 0xFF, 0x01 );
+    vdec_write_table(FPGA_AFE, SAM_D0, SAM_PATTERN_3ST_Buf, 16);
+	samsung_clk_set();
+
+	printk("\r\n***samsung PATTERN_3ST SET ***") ;
+}
diff -uNr mpp/extdrv_hi3520A/nvp1918/coax_protocol.h mpp.modified/extdrv_hi3520A/nvp1918/coax_protocol.h
--- mpp/extdrv_hi3520A/nvp1918/coax_protocol.h	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/coax_protocol.h	2015-12-27 15:23:19.417703036 +0800
@@ -0,0 +1,67 @@
+#ifndef _COAX_PROTOCOL_H_
+#define _COAX_PROTOCOL_H_
+
+
+
+extern void vdec_coaxial_select_ch(unsigned int ch);
+extern void vdec_coaxial_init(void);
+
+extern void pelco_coax_mode( void );
+extern void pelco_reset( void );
+extern void pelco_set( void );
+extern void pelco_up( void );
+extern void pelco_down( void );
+extern void pelco_left( void );
+extern void pelco_right( void );
+extern void pelco_osd( void );
+extern void pelco_iris_open( void );
+extern void pelco_iris_close( void );
+extern void pelco_focus_near( void );
+extern void pelco_focus_far( void );
+extern void pelco_zoom_wide( void );
+extern void pelco_zoom_tele( void );
+
+extern void pelco_scan_1_sr( void );
+extern void pelco_scan_1_st( void );
+extern void pelco_preset_1( void );
+extern void pelco_preset_2( void );
+extern void pelco_preset_3( void );
+extern void pelco_pattern_1_sr( void );
+extern void pelco_pattern_1_st( void );
+extern void pelco_pattern_2_sr( void );
+extern void pelco_pattern_2_st( void );
+extern void pelco_pattern_3_sr( void );
+extern void pelco_pattern_3_st( void );
+extern void pelco_pattern_run( void );
+
+extern void samsung_coax_mode( void );
+extern void samsung_set( void );
+extern void samsung_up( void );
+extern void samsung_down( void );
+extern void samsung_left( void );
+extern void samsung_right( void );
+extern void samsung_osd( void );
+extern void samsung_ptz_up( void );
+extern void samsung_ptz_down( void );
+extern void samsung_ptz_left( void );
+extern void samsung_ptz_right( void );
+extern void samsung_iris_open( void );
+extern void samsung_iris_close( void );
+extern void samsung_focus_near( void );
+extern void samsung_focus_far( void );
+extern void samsung_zoom_wide( void );
+extern void samsung_zoom_tele( void );
+
+extern void samsung_scan_1_sr( void );
+extern void samsung_scan_1_st( void );
+extern void samsung_preset_1( void );
+extern void samsung_preset_2( void );
+extern void samsung_preset_3( void );
+extern void samsung_pattern_1_sr( void );
+extern void samsung_pattern_1_st( void );
+extern void samsung_pattern_2_sr( void );
+extern void samsung_pattern_2_st( void );
+extern void samsung_pattern_3_sr( void );
+extern void samsung_pattern_3_st( void );
+
+#endif
diff -uNr mpp/extdrv_hi3520A/nvp1918/common.h mpp.modified/extdrv_hi3520A/nvp1918/common.h
--- mpp/extdrv_hi3520A/nvp1918/common.h	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/common.h	2015-12-27 15:23:19.417703036 +0800
@@ -0,0 +1,194 @@
+/*************************************************************************
+        Project : AWB Mapping One Block Program
+        File Name: common.h
+        Compiler: AVR IAR Compiler
+        Author  : NEXTCHIP(c) cshong
+        Data    : 2006.12.02
+        Version : 1.00
+        Dicription
+
+        ----------------------------------------------------------
+            Copyright(c) 2001 by Black_List All Rights Reserved
+
+	common define
+**************************************************************************/
+#define BIT(X)		(1<<X)
+
+// device address define
+#define NVP1108		0x60
+#define NVP1104B	0x60
+#define NVP1104B_1	0x60
+#define NVP1918		0x60
+#define NVP1108B4	0x66
+//#define NVP1104B_2	0x62
+//#define NVP1104B_3	0x64
+//#define NVP1104B_4	0x66
+#define NVP1104B_AFE	0x66
+#define NVP1108_AFE	0x66
+
+#define NVP1114A	0x70
+//#define NVP1104A_1	0x70
+#define NVP1114A_AFE		0x76
+#define NVP1104A_AFE		0x76
+#define NVP5000_SLAVE_ADDR	0xDC
+//#define FPGA_CTRL	0x56
+//#define FPGA_AFE	0x56
+#define FPGA_CTRL	0x64
+#define SDR_CTRL	0x60
+#define FPGA_AFE	0x60
+#define FPGA_HDMI	0x50
+
+//#define HD_VGA		0x70
+
+// Port Data Register
+#define PORT7   	7
+#define PORT6   	6
+#define PORT5   	5
+#define PORT4   	4
+#define PORT3   	3
+#define PORT2   	2
+#define PORT1   	1
+#define PORT0   	0
+//system define
+#define NTSC		0x00
+#define PAL			0x01
+
+// HSIZE
+#define H960		0x00
+#define H720		0x01
+
+#define TYPE_04B	0x77
+#define TYPE_08		0x75
+
+#define CVBS		0x00
+#define SVID		0x01
+//init define
+#define HIGH		1
+#define LOW			0
+
+#define ON		1
+#define OFF		0
+
+#define KEY_NORMAL  0x01
+#define KEY_DEBUG	0x02
+#define KEY_MENU	0x03
+
+#define BIT0		0x01
+#define BIT1		0x02
+#define BIT2		0x04
+#define BIT3		0x08
+#define BIT4		0x10
+#define BIT5		0x20
+#define BIT6		0x40
+#define BIT7		0x80
+
+#define _BIT0		0xFE
+#define _BIT1		0xFD
+#define _BIT2		0xFB
+#define _BIT3		0xF7
+#define _BIT4		0xEF
+#define _BIT5		0xDF
+#define _BIT6		0xBF
+#define _BIT7		0x7F
+
+//KEY
+#define KEY_CH1		1
+#define KEY_CH2		2
+#define KEY_CH3		3
+#define KEY_CH4		4
+
+#define KEY_SAVE	5
+#define KEY_QUAD	6
+#define KEY_MODE	7
+#define KEY_HEX		7
+#define KEY_SET     8
+
+#define KEY_LEFT	3
+#define KEY_RIGH	4
+#define KEY_UP		1
+#define KEY_DOWN	2
+#define KEY_DSEL	10
+
+#define TRUE		1
+#define FALSE		0
+
+#define SAVEDMODE 		0x77
+
+#define RESOL_800X600	0
+#define RESOL_1024X768	1
+#define RESOL_1280X1024	2
+
+// EEPROM Address define
+#define sADTFLAG	7
+
+#define PALADDR 		0x0100
+#define	EE_INT			0x0150	//Initial
+
+#define FORMAT			0x0130
+#define OUTPUT			0x0131
+#define H_MEM			0x0132
+
+// brightness
+#define eBRIGHT			0x0200
+#define eCONTRAST		0x0201
+#define eHUE			0x0202
+#define eSATURATION		0x0203
+#define eSHARPNESS		0x0204
+#define eVGARESOL		0x0205
+#define eVGANRF			0x0206
+#define eCHANNEL		0x0170
+
+#define KEYDEF 		0x0FFF
+
+// DECODER Define
+#define DEC_ID		0x1B
+
+/*********************************************************
+	COAXIAL PROTOCOL Variables Definition
+**********************************************************/
+#if 0
+//NVP1108S Define
+#define PEL_D0	0x20
+#define PEL_D1	0x21
+#define PEL_D2	0x22
+#define PEL_D3	0x23
+#define PEL_OUT	0x0F
+#define COAX_BAUD	0x00
+#define BL_HSP01	0x0D
+#define PACKET_MODE	0x0B
+#define PEL_CTEN	0x0C
+#define PEL_TXST1	0x07
+#define EVEN_LINE	0x2F
+
+#define SAM_D0	0x10
+#define SAM_OUT	0x09
+#endif
+
+//NVP1918 Define
+#define PEL_D0	0x70
+#define PEL_D1	0x71
+#define PEL_D2	0x72
+#define PEL_D3	0x73
+#define PEL_OUT	0x5C
+
+#define PEL_CTEN	0x5C
+#define PEL_TXST1	0x57
+#define EVEN_LINE	0x7F
+
+#define COAX_CH_SEL	0x8B
+#define COAX_BAUD	0x50
+#define COAX_RBAUD	0x51
+#define BL_TXST1	0x53
+#define BL_RXST1	0x55
+#define BL_HSP01	0x5D
+#define PACKET_MODE	0x5B
+#define TX_START	0x59
+#define TX_BYTE_LEN	0x5A
+
+
+
+#define SAM_D0	0x60
+#define SAM_OUT	0x59
+#define HSO_INV	0x7D
+
+
diff -uNr mpp/extdrv_hi3520A/nvp1918/Makefile mpp.modified/extdrv_hi3520A/nvp1918/Makefile
--- mpp/extdrv_hi3520A/nvp1918/Makefile	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/Makefile	2015-12-27 15:23:19.418703025 +0800
@@ -0,0 +1,23 @@
+#ifeq ($(KERNELRELEASE),)
+#export MMZ_SRC_BASE=$(PWD)
+#endif
+
+ifeq ($(PARAM_FILE), )
+	PARAM_FILE:=../../Makefile.param
+	include $(PARAM_FILE)
+endif
+
+obj-m := nvp1918.o
+nvp1918-objs := nvp1918_drv.o coax_protocol.o video.o motion.o audio.o
+
+#release this to make a nvp1118b driver
+#EXTRA_CFLAGS += -DNVP1118B
+
+EXTRA_CFLAGS += -I$(PWD)/../gpio_i2c_8b
+
+default:
+	@make -C $(LINUX_ROOT) M=$(PWD) modules
+clean:
+	@make -C $(LINUX_ROOT) M=$(PWD) clean
+
+
diff -uNr mpp/extdrv_hi3520A/nvp1918/motion.c mpp.modified/extdrv_hi3520A/nvp1918/motion.c
--- mpp/extdrv_hi3520A/nvp1918/motion.c	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/motion.c	2015-12-27 15:23:19.418703025 +0800
@@ -0,0 +1,214 @@
+#include <linux/kernel.h>
+#include <linux/version.h>
+#include <linux/module.h>
+#include <linux/types.h>
+#include <linux/errno.h>
+#include <linux/fcntl.h>
+#include <linux/mm.h>
+#include <linux/miscdevice.h>
+#include <linux/proc_fs.h>
+
+#include <linux/fs.h>
+#include <linux/slab.h>
+#include <linux/init.h>
+#include <asm/uaccess.h>
+#include <asm/io.h>
+#include <asm/system.h>
+#include <linux/interrupt.h>
+#include <linux/ioport.h>
+#include <linux/string.h>
+#include <linux/list.h>
+#include <asm/delay.h>
+#include <linux/timer.h>
+#include <linux/delay.h>
+#include <linux/proc_fs.h>
+#include <linux/poll.h>
+#include <asm/bitops.h>
+#include <asm/uaccess.h>
+#include <asm/irq.h>
+#include <linux/moduleparam.h>
+#include <linux/ioport.h>
+#include <linux/interrupt.h>
+
+#include "gpio_i2c.h"
+#include "nvp1918.h"
+#include "video.h"
+#include "coax_protocol.h"
+
+
+static unsigned int viu_virt;
+
+extern unsigned int vdec_mode;
+
+
+void vdec_hi3520_viu_init(void)
+{
+	printk("vdec_hi3520_viu_init...\n");
+	viu_virt = ioremap(0x10100000, 0x100000);
+	printk("viu_virt  = %x\n", viu_virt);
+}
+
+void hi3520_init_blank_data(unsigned int ch)
+{
+	vdec_hi3520_viu_init();
+
+	if(viu_virt == 0)
+	{
+		printk("hi3520_init_blank_data Error\n");
+		return;
+	}
+
+	*(unsigned int *)(viu_virt + VIU_CH_CTRL) |= 0x3000;
+	*(unsigned int *)(viu_virt + VIU_ANC0_START) = 0x01000000;
+	*(unsigned int *)(viu_virt + VIU_ANC0_SIZE) = 0x20;
+	*(unsigned int *)(viu_virt + VIU_ANC1_START) = 0x01000020;
+	*(unsigned int *)(viu_virt + VIU_ANC1_SIZE) = 0x20;
+}
+
+void vdec_motion_init(void)
+{
+	printk("vdec_motion_init...\n");
+
+	int i = 0;
+	gpio_i2c_write( NVP1918+i, 0xff, 0x03 );
+	gpio_i2c_write( NVP1918+i, 0x80, 0x40 );
+	gpio_i2c_write( NVP1918+i, 0x82, 0x40 );
+	gpio_i2c_write( NVP1918+i, 0x84, 0x40 );
+	gpio_i2c_write( NVP1918+i, 0x86, 0x40 );
+	gpio_i2c_write( NVP1918+i, 0x88, 0x40 );
+	gpio_i2c_write( NVP1918+i, 0x8a, 0x40 );
+	gpio_i2c_write( NVP1918+i, 0x8c, 0x40 );
+	gpio_i2c_write( NVP1918+i, 0x8e, 0x40 );
+
+	if((vdec_mode == VDEC_NTSC)||(vdec_mode == VDEC_PAL))
+	{
+#ifdef VDEC_108M
+		gpio_i2c_write( NVP1918+i, 0x81, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x83, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x85, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x87, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x89, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x8b, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x8d, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x8f, 0x08 );
+#else
+		gpio_i2c_write( NVP1918+i, 0x81, 0x48 );
+		gpio_i2c_write( NVP1918+i, 0x83, 0x48 );
+		gpio_i2c_write( NVP1918+i, 0x85, 0x48 );
+		gpio_i2c_write( NVP1918+i, 0x87, 0x48 );
+		gpio_i2c_write( NVP1918+i, 0x89, 0x48 );
+		gpio_i2c_write( NVP1918+i, 0x8b, 0x48 );
+		gpio_i2c_write( NVP1918+i, 0x8d, 0x48 );
+		gpio_i2c_write( NVP1918+i, 0x8f, 0x48 );
+#endif
+
+	}
+	else
+	{
+		gpio_i2c_write( NVP1918+i, 0x81, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x83, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x85, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x87, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x89, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x8b, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x8d, 0x08 );
+		gpio_i2c_write( NVP1918+i, 0x8f, 0x08 );
+	}
+}
+
+
+/*
+ * Motion Area Map
+ * Motion Block 16(H) * 12(V)
+ * x -> not used
+ * o -> 1 : Motion 0 : No Motion
+ *
+ *  m_area.m_info[x(0~11)] = xxxx oooo xxxx oooo xxxx oooo xxxx oooo -> 32Bit
+ */
+
+vdec_motion_area vdec_get_motion_info(unsigned int ch)
+{
+	int i;
+	vdec_motion_area m_area;
+
+	if(viu_virt == 0)
+	{
+		printk("vdec_get_motion_info Error\n");
+		return m_area;
+	}
+
+	m_area.m_info[0] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x00)) & 0x0f0f0f0f;
+	m_area.m_info[1] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x04)) & 0x0f0f0f0f;
+	m_area.m_info[2] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x08)) & 0x0f0f0f0f;
+	m_area.m_info[3] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x0c)) & 0x0f0f0f0f;
+	m_area.m_info[4] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x10)) & 0x0f0f0f0f;
+	m_area.m_info[5] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x14)) & 0x0f0f0f0f;
+	m_area.m_info[6] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x18)) & 0x0f0f0f0f;
+	m_area.m_info[7] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x1c)) & 0x0f0f0f0f;
+	m_area.m_info[8] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x20)) & 0x0f0f0f0f;
+	m_area.m_info[9] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x24)) & 0x0f0f0f0f;
+	m_area.m_info[10] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x28)) & 0x0f0f0f0f;
+	m_area.m_info[11] = (*(unsigned int *)(viu_virt + VIU_BLANK_DATA_ADDR + 0x2c)) & 0x0f0f0f0f;
+
+	printk("---------------------------\n");
+	printk("%#x\n", m_area.m_info[0]);
+	printk("%#x\n", m_area.m_info[1]);
+	printk("%#x\n", m_area.m_info[2]);
+	printk("%#x\n", m_area.m_info[3]);
+	printk("%#x\n", m_area.m_info[4]);
+	printk("%#x\n", m_area.m_info[5]);
+	printk("%#x\n", m_area.m_info[6]);
+	printk("%#x\n", m_area.m_info[7]);
+	printk("%#x\n", m_area.m_info[8]);
+	printk("%#x\n", m_area.m_info[9]);
+	printk("%#x\n", m_area.m_info[10]);
+	printk("%#x\n", m_area.m_info[11]);
+
+	return m_area;
+}
+
+void vdec_motion_display(unsigned int ch, unsigned int on)
+{
+	int i=0;
+	if(on == 1)
+	{
+		gpio_i2c_write( NVP1918+i, 0xff, 0x01 );
+		gpio_i2c_write( NVP1918+i, 0xc0, 0x98 );
+	}
+	else
+	{
+		gpio_i2c_write( NVP1918+i, 0xff, 0x01 );
+		gpio_i2c_write( NVP1918+i, 0xc0, 0x10 );
+	}
+
+	if((vdec_mode == VDEC_NTSC) || (vdec_mode == VDEC_PAL))
+	{
+		gpio_i2c_write( NVP1918+i, 0xff, 0x02 );
+		gpio_i2c_write( NVP1918+i, 0x12, 0x00 );
+	}
+	else
+	{
+		gpio_i2c_write( NVP1918+i, 0xff, 0x02 );
+		gpio_i2c_write( NVP1918+i, 0x12, 0xff );
+	}
+}
+
+void vdec_motion_sensitivity(unsigned int sens[16])
+{
+	int i = 0;
+	gpio_i2c_write( NVP1918+i, 0xff, 0x02 );
+	gpio_i2c_write( NVP1918+i, 0x01, (sens[0]<<4)*2 );
+	printk("Write Value = %x\n", (sens[0]<<4)*2);
+}
+
+void vdec_motion_area_mask(unsigned int sens[16])
+{
+	int i = 0;
+	gpio_i2c_write( NVP1918+i, 0xff, 0x02 );
+	gpio_i2c_write( NVP1918+i, 0x01, (sens[0]<<4)*2 );
+	printk("Write Value = %x\n", (sens[0]<<4)*2);
+}
+
+
+
+
diff -uNr mpp/extdrv_hi3520A/nvp1918/motion.h mpp.modified/extdrv_hi3520A/nvp1918/motion.h
--- mpp/extdrv_hi3520A/nvp1918/motion.h	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/motion.h	2015-12-27 15:23:19.418703025 +0800
@@ -0,0 +1,10 @@
+#ifndef _MOTION_H_
+#define _MOTION_H_
+
+extern void vdec_hi3520_viu_init(void);
+extern void hi3520_init_blank_data(unsigned int ch);
+extern void vdec_motion_init(void);
+extern vdec_motion_area vdec_get_motion_info(unsigned int ch);
+extern void vdec_motion_display(unsigned int ch, unsigned int on);
+extern void vdec_motion_sensitivity(unsigned int sens[16]);
+#endif
diff -uNr mpp/extdrv_hi3520A/nvp1918/nvp1918_drv.c mpp.modified/extdrv_hi3520A/nvp1918/nvp1918_drv.c
--- mpp/extdrv_hi3520A/nvp1918/nvp1918_drv.c	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/nvp1918_drv.c	2015-12-27 15:57:17.641485895 +0800
@@ -0,0 +1,316 @@
+#include <linux/kernel.h>
+#include <linux/version.h>
+#include <linux/module.h>
+#include <linux/types.h>
+#include <linux/errno.h>
+#include <linux/fcntl.h>
+#include <linux/mm.h>
+#include <linux/miscdevice.h>
+#include <linux/proc_fs.h>
+
+#include <linux/fs.h>
+#include <linux/slab.h>
+#include <linux/init.h>
+#include <asm/uaccess.h>
+#include <asm/io.h>
+#include <asm/system.h>
+#include <linux/interrupt.h>
+#include <linux/ioport.h>
+#include <linux/string.h>
+#include <linux/list.h>
+#include <asm/delay.h>
+#include <linux/timer.h>
+#include <linux/delay.h>
+#include <linux/proc_fs.h>
+#include <linux/poll.h>
+#include <asm/bitops.h>
+#include <asm/uaccess.h>
+#include <asm/irq.h>
+#include <linux/moduleparam.h>
+#include <linux/ioport.h>
+#include <linux/interrupt.h>
+
+#include "gpio_i2c.h"
+#include "nvp1918.h"
+#include "video.h"
+#include "coax_protocol.h"
+#include "motion.h"
+
+//extern void sil9034_1080i60_init(void);
+//extern void sil9034_1080i50_init(void);
+//extern void sil9034_1080p30_init(void);
+
+unsigned int vdec_mode = VDEC_PAL_960;
+unsigned int vdec_cnt = 0;
+
+unsigned int vdec_slave_addr[2] = {0x60, 0x62};
+
+module_param(vdec_mode, uint, S_IRUGO);
+
+int check_id(unsigned int dec)
+{
+	int ret;
+	gpio_i2c_write(dec, 0xFF, 0x01);
+	ret = (gpio_i2c_read(dec, 0xf4)<<8) | (gpio_i2c_read(dec, 0xf5));
+	return ret;
+}
+
+int vdec_open(struct inode * inode, struct file * file)
+{
+	return 0;
+}
+
+int vdec_close(struct inode * inode, struct file * file)
+{
+	return 0;
+}
+
+//int vdec_ioctl(struct inode *inode, struct file *file, unsigned int cmd, unsigned long arg)
+int vdec_ioctl(struct file *file, unsigned int cmd, unsigned long arg)
+{
+	unsigned int on;
+	unsigned long ptz_ch;
+	unsigned int value;
+	unsigned int sens[16];
+	vdec_video_mode vmode;
+	vdec_video_adjust v_adj;
+
+	switch (cmd)
+	{
+	case IOC_VDEC_SET_VIDEO_MODE:
+		if (copy_from_user(&vmode, arg, sizeof(vdec_video_mode)))
+			return -1;
+
+		vdec_mode = vmode.mode;
+
+		if(vmode.mode == VDEC_NTSC)
+		{
+			nvp1918_720h_nt();
+		}
+		else if(vmode.mode == VDEC_PAL)
+		{
+			nvp1918_720h_pal();
+		}
+		else if(vmode.mode == VDEC_NTSC_960)
+		{
+			nvp1918_960h_nt();
+		}
+		else
+		{
+			nvp1918_960h_pal();
+		}
+		break;
+
+	case IOC_VDEC_SET_BRIGHTNESS:
+		if(copy_from_user(&v_adj, arg, sizeof(vdec_video_adjust))) return -1;
+		vdec_video_set_brightness(v_adj.ch, v_adj.value, vdec_mode&1);
+		break;
+	case IOC_VDEC_SET_CONTRAST:
+		if(copy_from_user(&v_adj, arg, sizeof(vdec_video_adjust))) return -1;
+		vdec_video_set_contrast(v_adj.ch, v_adj.value, vdec_mode&1);
+		break;
+	case IOC_VDEC_SET_HUE:
+		if(copy_from_user(&v_adj, arg, sizeof(vdec_video_adjust))) return -1;
+		vdec_video_set_hue(v_adj.ch, v_adj.value, vdec_mode&1);
+		break;
+	case IOC_VDEC_SET_SATURATION:
+		if(copy_from_user(&v_adj, arg, sizeof(vdec_video_adjust))) return -1;
+		vdec_video_set_saturation(v_adj.ch, v_adj.value, vdec_mode&1);
+		break;
+	case IOC_VDEC_SET_SHARPNESS:
+		break;
+
+	case IOC_VDEC_PTZ_PELCO_INIT:
+		vdec_coaxial_init();
+		pelco_coax_mode();
+		break;
+	case IOC_VDEC_PTZ_PELCO_RESET:
+		pelco_reset();
+		break;
+	case IOC_VDEC_PTZ_PELCO_SET:
+		pelco_set();
+		break;
+	case IOC_VDEC_PTZ_CHANNEL_SEL:
+		if (copy_from_user(&ptz_ch, arg, sizeof(ptz_ch)))
+		{
+			return -1;
+		}
+		vdec_coaxial_select_ch(ptz_ch);
+		break;
+	case IOC_VDEC_PTZ_PELCO_UP:
+		pelco_up();
+		break;
+	case IOC_VDEC_PTZ_PELCO_DOWN:
+		pelco_down();
+		break;
+	case IOC_VDEC_PTZ_PELCO_LEFT:
+		pelco_left();
+		break;
+	case IOC_VDEC_PTZ_PELCO_RIGHT:
+		pelco_right();
+		break;
+	case IOC_VDEC_PTZ_PELCO_FOCUS_NEAR:
+		//FIXME
+		pelco_osd();
+		//pelco_focus_near();
+		break;
+	case IOC_VDEC_PTZ_PELCO_FOCUS_FAR:
+		//FIXME
+		pelco_set();
+		//pelco_focus_far();
+		break;
+	case IOC_VDEC_PTZ_PELCO_ZOOM_WIDE:
+		//pelco_zoom_wide();
+		pelco_iris_open();
+		break;
+	case IOC_VDEC_PTZ_PELCO_ZOOM_TELE:
+		//pelco_zoom_tele();
+		pelco_iris_close();
+		break;
+
+	case IOC_VDEC_INIT_MOTION:
+		vdec_motion_init();
+		hi3520_init_blank_data(0);
+		break;
+	case IOC_VDEC_ENABLE_MOTION:
+		break;
+	case IOC_VDEC_DISABLE_MOTION:
+		break;
+	case IOC_VDEC_SET_MOTION_AREA:
+		break;
+	case IOC_VDEC_GET_MOTION_INFO:
+		vdec_get_motion_info(0);
+		break;
+	case IOC_VDEC_SET_MOTION_DISPLAY:
+		if(copy_from_user(&on, arg, sizeof(unsigned int))) return -1;
+		vdec_motion_display(0,on);
+		break;
+	case IOC_VDEC_SET_MOTION_SENS:
+		if(copy_from_user(&sens, arg, sizeof(unsigned int)*16)) return -1;
+		vdec_motion_sensitivity(sens);
+		break;
+	case IOC_VDEC_ENABLE_LOW_RES:
+		vdec_low_resoultion_enable(0xff);
+		break;
+	case IOC_VDEC_DISABLE_LOW_RES:
+		vdec_low_resoultion_disable(0xff);
+		break;
+	case IOC_VDEC_ENABLE_BW:
+		vdec_bw_detection_enable(0xff);
+		break;
+	case IOC_VDEC_DISABLE_BW:
+		vdec_bw_detection_disable(0xff);
+		break;
+	case IOC_VDEC_READ_BALCK_COUNT:
+		value = vdec_bw_black_count_read(0);
+		copy_to_user(arg,&value, sizeof(int));
+		break;
+	case IOC_VDEC_READ_WHITE_COUNT:
+		break;
+	case IOC_VDEC_4CH_VIDEO_SEQUENCE:
+		break;
+	case IOC_VIDEO_GET_VIDEO_LOSS:
+		break;
+#if 0
+	case IOC_VIDEO_GET_VIDEO_MODE:
+	case IOC_VIDEO_SET_MOTION:
+	case IOC_VIDEO_GET_MOTION:
+	case IOC_VIDEO_SET_MOTION_EN:
+	case IOC_VIDEO_SET_MOTION_SENS:
+	case IOC_VIDEO_SET_MOTION_TRACE:
+	case IOC_VIDEO_GET_VIDEO_LOSS:
+	case IOC_VIDEO_GET_IMAGE_ADJUST:
+	case IOC_AUDIO_SET_SAMPLE_RATE:
+	case IOC_AUDIO_SET_AUDIO_PLAYBACK:
+	case IOC_AUDIO_SET_AUDIO_DA_VOLUME:
+	case IOC_AUDIO_SET_BRIGHTNESS:
+	case IOC_AUDIO_SET_CONTRAST:
+	case IOC_AUDIO_SET_HUE:
+	case IOC_AUDIO_SET_SATURATION:
+	case IOC_AUDIO_SET_SHARPNESS:
+	case IOC_AUDIO_SET_AUDIO_MUTE:
+	case IOC_AUDIO_SET_LIVE_CH:
+	case IOC_AUDIO_SET_PB_CH:
+#endif
+	default:
+		//printk("drv:invalid nc decoder ioctl cmd[%x]\n", cmd);
+		break;
+	}
+	return 0;
+}
+
+static struct file_operations vdec_fops = {
+	.owner      = THIS_MODULE,
+	//.ioctl      = vdec_ioctl,
+	.unlocked_ioctl	= vdec_ioctl,
+	.open       = vdec_open,
+	.release    = vdec_close
+};
+
+static struct miscdevice vdec_dev = {
+	.minor		= MISC_DYNAMIC_MINOR,
+	.name		= "nc_vdec",
+	.fops  		= &vdec_fops,
+};
+
+int chip_id[2];
+static int __init vdec_module_init(void)
+{
+	int ret = 0, i = 0;
+	unsigned char i2c_addr;
+
+	ret = misc_register(&vdec_dev);
+
+	if (ret)
+	{
+		printk("ERROR: could not register NC Decoder devices:%#x \n",i);
+	}
+
+	printk("NVP1918 Test Driver \n");
+
+	for(i=0;i<2;i++)
+	{
+		//gpio_i2c_write( NVP1918+i, 0xFF, 0x01);
+		//chip_id = gpio_i2c_read( NVP1918+i, 0xF4);
+		chip_id[i] = check_id(vdec_slave_addr[i]);
+		if( (chip_id[i] != NVP1918_R0 )  &&
+				(chip_id[i] != NVP1118B_R0 ) &&
+				(chip_id[i] != NVP1918_R1 )  &&
+				(chip_id[i] != NVP1118B_R1)  &&
+				(chip_id[i] != NVP1918_R2 )  &&
+				(chip_id[i] != NVP1118B_R2 ) &&
+				(chip_id[i] != NVP1914_R2 )  &&
+				(chip_id[i] != NVP1114B_R2 ) )
+		{
+			printk("Blade Device ID Error... %x\n", chip_id[i]);
+		}
+		else
+		{
+			printk("Blade Device (0x%x) ID OK... %x\n", vdec_slave_addr[i], chip_id[i]);
+			vdec_cnt++;
+		}
+	}
+#ifdef NVP1118B
+	printk("NVP1118B Count = %x\n", vdec_cnt);
+	nvp1918_720h_nt();
+#else
+	printk("NVP1918 Count = %x\n", vdec_cnt);
+	nvp1918_960h_pal();
+#endif
+	//nvp1918_720h_pal();
+	//nvp1918_960h_nt();
+	return 0;
+}
+
+
+
+static void __exit vdec_module_exit(void)
+{
+	misc_deregister(&vdec_dev);
+}
+
+module_init(vdec_module_init);
+module_exit(vdec_module_exit);
+
+MODULE_LICENSE("GPL");
+
diff -uNr mpp/extdrv_hi3520A/nvp1918/nvp1918.h mpp.modified/extdrv_hi3520A/nvp1918/nvp1918.h
--- mpp/extdrv_hi3520A/nvp1918/nvp1918.h	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/nvp1918.h	2015-12-27 15:23:19.418703025 +0800
@@ -0,0 +1,171 @@
+#ifndef _NVP1918_H_
+#define _NVP1918_H_
+
+#include <linux/ioctl.h>
+
+//#define VDEC_108M
+
+#define NVP1918	0x60
+#define NVP1918_R0 	0X8000
+#define NVP1118B_R0 0X8040
+#define NVP1914_R0 	0X8000
+#define NVP1114B_R0 0X8040
+
+#define NVP1918_R1 	0X8080
+#define NVP1118B_R1 0X80C0
+#define NVP1914_R1 	0X8080
+#define NVP1114B_R1 0X80C0
+
+//2012.12
+#define NVP1918_R2 	0X8080
+#define NVP1118B_R2 0X80C0
+#define NVP1914_R2 	0X8100
+#define NVP1114B_R2 0X8140
+//FIXME HI3520 Register
+#define VIU_CH_CTRL					0x08
+#define VIU_ANC0_START				0x9c
+#define VIU_ANC0_SIZE				0xa0
+#define VIU_ANC1_START				0xa4
+#define VIU_ANC1_SIZE				0xa8
+#define VIU_BLANK_DATA_ADDR			0xac
+
+#define VDEC_NTSC	        1
+#define VDEC_PAL	        2
+#define VDEC_NTSC_960	    3
+#define VDEC_PAL_960	    4
+#define VDEC_AUTO	        3
+#define VDEC_INVALID_MODE	4
+
+#define NVP1114A_IOC_MAGIC            't'
+#define NVP1114ACMD_READ_REG		    0x01
+#define NVP1114ACMD_WRITE_REG	        0x02
+
+#define NVP1114A_GET_VIDEO_LOSS			0x04
+#define NVP1114A_SET_IMAGE_ADJUST	    0x05
+#define NVP1114A_GET_IMAGE_ADJUST	    0x06
+#define NVP1114A_SET_VIDEO_NORM	    	0x07
+#define NVP1114A_GET_VIDEO_NORM	    	0x08
+#define NVP1114A_SET_WORK_MODE	   		0x09
+
+#define NVP1114A_SET_SAMPLE_RATE	    0x0a
+#define NVP1114A_SET_AUDIO_PLAYBACK   	0x0b
+#define NVP1114A_SET_AUDIO_DA_MUTE    	0x0c
+#define NVP1114A_SET_AUDIO_DA_VOLUME  	0x0d
+
+#define NVP1114A_SET_BRIGHTNESS	    	0x0e
+#define NVP1114A_SET_CONTRAST   		0x0f
+#define NVP1114A_SET_HUE    			0x10
+#define NVP1114A_SET_SATURATION  		0x11
+#define NVP1114A_SET_SHARPNESS  		0x12
+#define NVP1114A_SET_AUDIO_MUTE	        0x13
+
+#define IOC_AUDIO_SET_LIVE_CH			0x14
+#define IOC_AUDIO_SET_PB_CH				0x15
+#define NVP1108_GET_MOTION				0x16
+#define NVP1108_SET_MOTION				0x17
+#define NVP1108_SET_MOTION_SENS			0x18
+#define NVP1108_SET_MOTION_EN			0x19
+#define NVP1108_SET_MOTION_TRACE		0x1A
+
+
+//Hwarang
+#define IOC_VDEC_SET_VIDEO_MODE			0x07
+
+#define IOC_VDEC_SET_BRIGHTNESS	    	0x0e
+#define IOC_VDEC_SET_CONTRAST   		0x0f
+#define IOC_VDEC_SET_HUE    			0x10
+#define IOC_VDEC_SET_SATURATION  		0x11
+#define IOC_VDEC_SET_SHARPNESS  		0x12
+#define IOC_VDEC_PTZ_CHANNEL_SEL		0x20
+#define IOC_VDEC_PTZ_PELCO_INIT			0x21
+#define IOC_VDEC_PTZ_PELCO_RESET		0x22
+#define IOC_VDEC_PTZ_PELCO_SET			0x23
+#define IOC_VDEC_PTZ_PELCO_UP			0x24
+#define IOC_VDEC_PTZ_PELCO_DOWN			0x25
+#define IOC_VDEC_PTZ_PELCO_LEFT			0x26
+#define IOC_VDEC_PTZ_PELCO_RIGHT		0x27
+#define IOC_VDEC_PTZ_PELCO_OSD			0x28
+#define IOC_VDEC_PTZ_PELCO_IRIS_OPEN	0x29
+#define IOC_VDEC_PTZ_PELCO_IRIS_CLOSE	0x2a
+#define IOC_VDEC_PTZ_PELCO_FOCUS_NEAR	0x2b
+#define IOC_VDEC_PTZ_PELCO_FOCUS_FAR	0x2c
+#define IOC_VDEC_PTZ_PELCO_ZOOM_WIDE	0x2d
+#define IOC_VDEC_PTZ_PELCO_ZOOM_TELE	0x2e
+
+#define IOC_VDEC_INIT_MOTION			0x40
+#define IOC_VDEC_ENABLE_MOTION			0x41
+#define IOC_VDEC_DISABLE_MOTION			0x42
+#define IOC_VDEC_SET_MOTION_AREA		0x43
+#define IOC_VDEC_GET_MOTION_INFO		0x44
+#define IOC_VDEC_SET_MOTION_DISPLAY		0x45
+#define IOC_VDEC_SET_MOTION_SENS		0x46
+
+#define IOC_VDEC_ENABLE_LOW_RES			0x50
+#define IOC_VDEC_DISABLE_LOW_RES		0x51
+
+#define IOC_VDEC_ENABLE_BW				0x60
+#define IOC_VDEC_DISABLE_BW				0x61
+#define IOC_VDEC_READ_BALCK_COUNT		0x62
+#define IOC_VDEC_READ_WHITE_COUNT		0x63
+#define IOC_VDEC_4CH_VIDEO_SEQUENCE		0x64
+#define IOC_VIDEO_GET_VIDEO_LOSS		0x65
+
+
+
+typedef struct _vdec_video_mode
+{
+    unsigned int chip;
+    unsigned int mode;
+}vdec_video_mode;
+
+typedef struct _vdec_video_loss
+{
+    unsigned int chip;
+    unsigned int ch;
+    unsigned int is_lost;
+}vdec_video_loss;
+
+typedef struct _vdec_video_adjust
+{
+    unsigned int ch;
+	unsigned int value;
+}vdec_video_adjust;
+
+typedef struct _NVP1114A_audio_output
+{
+	unsigned char PlaybackOrLoop;   /*0:playback; 1:loop*/
+	unsigned char channel;          /*[0, 15]*/
+	unsigned char reserve[6];
+} nvp1114a_audio_output;
+
+typedef struct _vdec_clock_mode
+{
+    unsigned int chip;
+    unsigned int mode;
+}vdec_clock_mode;
+
+
+typedef struct _vdec_motion_area
+{
+    unsigned char ch;
+    int m_info[12];
+}vdec_motion_area;
+
+typedef struct _vdec_audio_playback
+{
+    unsigned int chip;
+    unsigned int ch;
+}vdec_audio_playback;
+
+typedef struct _vdec_audio_da_mute
+{
+    unsigned int chip;
+}vdec_audio_da_mute;
+
+typedef struct _vdec_audio_da_volume
+{
+    unsigned int chip;
+    unsigned int volume;
+}vdec_audio_da_volume;
+
+#endif
diff -uNr mpp/extdrv_hi3520A/nvp1918/video.c mpp.modified/extdrv_hi3520A/nvp1918/video.c
--- mpp/extdrv_hi3520A/nvp1918/video.c	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/video.c	2015-12-29 14:01:33.058404766 +0800
@@ -0,0 +1,1584 @@
+#include <linux/kernel.h>
+#include <linux/version.h>
+#include <linux/module.h>
+#include <linux/types.h>
+#include <linux/errno.h>
+#include <linux/fcntl.h>
+#include <linux/mm.h>
+#include <linux/miscdevice.h>
+#include <linux/proc_fs.h>
+
+#include <linux/fs.h>
+#include <linux/slab.h>
+#include <linux/init.h>
+#include <asm/uaccess.h>
+#include <asm/io.h>
+#include <asm/system.h>
+#include <linux/interrupt.h>
+#include <linux/ioport.h>
+#include <linux/string.h>
+#include <linux/list.h>
+#include <asm/delay.h>
+#include <linux/timer.h>
+#include <linux/delay.h>
+#include <linux/proc_fs.h>
+#include <linux/poll.h>
+#include <asm/bitops.h>
+#include <asm/uaccess.h>
+#include <asm/irq.h>
+#include <linux/moduleparam.h>
+#include <linux/ioport.h>
+#include <linux/interrupt.h>
+
+#include "gpio_i2c.h"
+#include "nvp1918.h"
+
+#ifdef NVP1118B
+#define VDEC_108M
+#endif
+
+#ifndef VDEC_108M
+#define VDEC_144M
+#endif
+#define SET_ALL_CH          0xff
+
+#define CON_CENTER_VAL_NTSC 0x76
+#define CON_CENTER_VAL_PAL  0x6b
+
+#define BRI_CENTER_VAL_NTSC 0xf8
+#define BRI_CENTER_VAL_PAL  0x08
+
+#define HUE_CENTER_VAL_NTSC 0x00
+#define HUE_CENTER_VAL_PAL  0x00
+
+#define SAT_CENTER_VAL_NTSC 0x80
+#define SAT_CENTER_VAL_PAL  0x80
+
+unsigned int vdec_contrast_tbl[2]    = {CON_CENTER_VAL_NTSC, CON_CENTER_VAL_PAL};
+unsigned int vdec_hue_tbl[2]         = {HUE_CENTER_VAL_NTSC, HUE_CENTER_VAL_PAL};
+unsigned int vdec_saturation_tbl[2]  = {SAT_CENTER_VAL_NTSC, SAT_CENTER_VAL_PAL};
+unsigned int vdec_brightness_tbl[2]  = {BRI_CENTER_VAL_NTSC, BRI_CENTER_VAL_PAL};
+unsigned char vdec_motion_sens_tbl[8]= {0xe0,0xc8,0xa0,0x98,0x78,0x68,0x50,0x48};
+extern unsigned int vdec_cnt;
+extern int chip_id[2];
+extern void audio_init(unsigned char dec, unsigned char ch_num, unsigned char samplerate, unsigned char bits);
+
+
+unsigned char NVP1918_FPGA_B0_NT_Buf[] = {
+		//	0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F
+	/*0*/   0x00,0x00,0xF0,0x00,0x00,0x00,0xAF,0x00,0xA0,0xA0,0xA0,0xA0,0xF8,0xF8,0xF8,0xF8,
+	/*1*/   0x76,0x76,0x76,0x76,0x80,0x80,0x80,0x80,0x00,0x00,0x55,0x55,0x84,0x84,0x84,0x84,
+	/*2*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*3*/   0x12,0x12,0x12,0x12,0x2F,0x82,0x0B,0x41,0x0A,0x0A,0x0A,0x0A,0x80,0x80,0x80,0x80,
+	/*4*/   0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*5*/   0x00,0x00,0x00,0x00,0xF1,0x10,0x32,0x00,0x9c,0x9c,0x9c,0x9c,0x1E,0x1E,0x1E,0x1E,
+	/*6*/   0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*7*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0x00,0x00,0x00,0x00,
+	/*8*/   0x00,0x00,0x00,0x00,0x00,0x00,0xAF,0x00,0xA0,0xA0,0xA0,0xA0,0xF8,0xF8,0xF8,0xF8,
+	/*9*/   0x76,0x76,0x76,0x76,0x80,0x80,0x80,0x80,0x00,0x00,0x55,0x55,0x84,0x84,0x84,0x84,
+	/*A*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*B*/   0x12,0x12,0x12,0x12,0x2F,0x82,0x0B,0x41,0x0A,0x0A,0x0A,0x0A,0x80,0x80,0x80,0x80,
+	/*C*/   0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*D*/   0x00,0x00,0x00,0x00,0xF1,0x54,0x76,0x00,0x9c,0x9c,0x9c,0x9c,0x1E,0x1E,0x1E,0x1E,
+	/*E*/   0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*F*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0x00,0x00,0x00,0x00
+	};
+
+unsigned char NVP1918_FPGA_B1_NT_Buf[] = {
+		//	0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F
+	/*0*/   0x02,0x88,0x88,0x88,0x88,0x88,0x1A,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x98,0xBA,
+	/*1*/   0xDC,0xFE,0xE4,0x80,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
+	/*2*/   0x88,0x88,0x80,0x10,0x18,0x16,0x00,0x00,0x00,0x88,0xFF,0xC0,0xAA,0xAA,0xAA,0xAA,
+	/*3*/   0xAA,0x72,0x00,0x72,0x00,0x00,0x00,0x00,0x00,0x00,0xA1,0x10,0x10,0x00,0x08,0x00,
+	/*4*/   0x00,0x00,0x00,0x00,0x14,0x01,0x10,0x40,0x60,0x00,0x03,0x10,0x00,0x00,0x00,0x00,
+	/*5*/   0x37,0x37,0x1B,0x05,0x00,0x07,0x00,0x09,0x00,0x00,0x08,0x06,0x00,0x46,0x00,0x00,
+	/*6*/   0xAA,0x1C,0x18,0xFF,0xAA,0x3C,0xFF,0xFF,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00,
+	/*7*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x01,
+	/*8*/   0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x32,0x54,0x76,
+	/*9*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*A*/   0x40,0x00,0x47,0x35,0x8D,0x85,0x7e,0x73,0x7C,0x80,0x80,0x80,0x00,0x00,0x00,0x00,
+	/*B*/   0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,
+	/*C*/   0x54,0x76,0x10,0x32,0x54,0x76,0x10,0x32,0x88,0x88,0x0F,0x00,0x70,0x70,0x70,0x70,
+	/*D*/   0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*E*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x90,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*F*/   0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
+	};
+
+unsigned char NVP1918_FPGA_B2_NT_Buf[] = {
+		//	0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F
+	/*0*/   0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,
+	/*1*/   0x00,0x00,0x12,0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*2*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*3*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*4*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*5*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*6*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*7*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*8*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*9*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*A*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*B*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*C*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*D*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*E*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*F*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
+	};
+
+unsigned char NVP1918_FPGA_B3_NT_Buf[] = {
+		//	0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F
+	/*0*/   0xE0,0x09,0x0C,0x9F,0x00,0x20,0x40,0x80,0x50,0x38,0x0F,0x00,0x04,0x10,0x30,0x00,
+	/*1*/   0x06,0x06,0x00,0x80,0x37,0x80,0x49,0x37,0xEF,0xDF,0xDF,0x20,0x0A,0x0C,0x00,0x88,
+	/*2*/   0x80,0x00,0x23,0x00,0x2A,0xDC,0xF0,0x57,0x90,0x1F,0x52,0x78,0x00,0x68,0x00,0x07,
+	/*3*/   0xE0,0x43,0xA2,0x00,0x00,0x15,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
+	/*4*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x44,0x00,0x00,0x20,0x10,0x00,0x00,
+	/*5*/   0x00,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*6*/   0x53,0x00,0x01,0x00,0x99,0x99,0x99,0x99,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*7*/   0xB8,0x01,0x06,0x06,0x11,0x01,0xE0,0x13,0x03,0x22,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*8*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*9*/   0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*A*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*B*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*C*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*D*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*E*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*F*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
+	};
+
+unsigned char NVP1918_FPGA_B0_PAL_Buf[] = {
+		//	0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F
+	/*0*/   0x00,0x00,0xF0,0x00,0x00,0x00,0xAF,0x00,0xDD,0xDD,0xDD,0xDD,0x08,0x08,0x08,0x08,
+	/*1*/   0x6b,0x6b,0x6b,0x6b,0x80,0x80,0x80,0x80,0x00,0x00,0x55,0x55,0x84,0x84,0x84,0x84,
+	/*2*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*3*/   0x11,0x11,0x11,0x11,0x2F,0x02,0x0B,0x41,0x0A,0x0A,0x0A,0x0A,0x80,0x80,0x80,0x80,
+	/*4*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,
+	/*5*/   0x04,0x04,0x04,0x04,0x01,0x10,0x32,0x00,0xB8,0xB8,0xB8,0xB8,0x1E,0x1E,0x1E,0x1E,
+	/*6*/   0x00,0x00,0x00,0x00,0x0D,0x0D,0x0D,0x0D,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*7*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0x00,0x00,0x00,0x00,
+	/*8*/   0x00,0x00,0x00,0x00,0x00,0x00,0xAF,0x00,0xDD,0xDD,0xDD,0xDD,0x08,0x08,0x08,0x08,
+	/*9*/   0x6b,0x6b,0x6b,0x6b,0x80,0x80,0x80,0x80,0x00,0x00,0x55,0x55,0x84,0x84,0x84,0x84,
+	/*A*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*B*/   0x11,0x11,0x11,0x11,0x2F,0x02,0x0B,0x41,0x0A,0x0A,0x0A,0x0A,0x80,0x80,0x80,0x80,
+	/*C*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,
+	/*D*/   0x04,0x04,0x04,0x04,0x01,0x54,0x76,0x00,0xB8,0xB8,0xB8,0xB8,0x1E,0x1E,0x1E,0x1E,
+	/*E*/   0x00,0x00,0x00,0x00,0x0D,0x0D,0x0D,0x0D,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*F*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0x00,0x00,0x00,0x00
+	};
+
+
+unsigned char NVP1918_FPGA_B1_PAL_Buf[] = {
+		//	0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F
+	/*0*/   0x02,0x88,0x88,0x88,0x88,0x88,0x1A,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x98,0xBA,
+	/*1*/   0xDC,0xFE,0xE4,0x80,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
+	/*2*/   0x88,0x88,0x80,0x10,0x18,0x16,0x00,0x00,0x00,0x88,0xFF,0xC0,0xAA,0xAA,0xAA,0xAA,
+	/*3*/   0xAA,0x72,0x00,0x72,0x00,0x00,0x00,0x00,0x00,0x00,0xA1,0x10,0x10,0x00,0x08,0x00,
+	/*4*/   0x00,0x00,0x00,0x00,0x14,0x01,0x10,0x40,0x60,0x00,0x03,0x10,0x00,0x00,0x00,0x00,
+	/*5*/   0x37,0x37,0x1B,0x05,0x00,0x07,0x00,0x09,0x00,0x00,0x08,0x06,0x00,0x46,0x00,0x00,
+	/*6*/   0xAA,0x1C,0x18,0xFF,0xAA,0x3C,0xFF,0xFF,0xAA,0x1B,0x00,0x00,0xAA,0x3B,0x00,0x00,
+	/*7*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x01,
+	/*8*/   0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x32,0x54,0x76,
+	/*9*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*A*/   0x4D,0x00,0x47,0x35,0x83,0x8a,0x8a,0x71,0x84,0x80,0x80,0x80,0x00,0x00,0x00,0x00,
+	/*B*/   0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,
+	/*C*/   0x54,0x76,0x10,0x32,0x54,0x76,0x10,0x32,0x88,0x88,0x0F,0x00,0x70,0x70,0x70,0x70,
+	/*D*/   0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*E*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x90,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*F*/   0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
+	};
+
+unsigned char NVP1918_FPGA_B2_PAL_Buf[] = {
+		//	0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F
+	/*0*/   0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,
+	/*1*/   0x00,0x00,0xFF,0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*2*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*3*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*4*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*5*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*6*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*7*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*8*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*9*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*A*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*B*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*C*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*D*/   0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
+	/*E*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x90,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*F*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
+	};
+
+unsigned char NVP1918_FPGA_B3_PAL_Buf[] = {
+		//	0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F
+	/*0*/   0xE0,0x09,0x0C,0x9F,0x00,0x20,0x40,0x80,0x50,0x38,0x0F,0x00,0x04,0x10,0x30,0x04,
+	/*1*/   0x06,0x06,0x00,0x80,0x37,0x80,0x49,0x37,0xEF,0xDF,0xDF,0x20,0x0A,0x0C,0x00,0x88,
+	/*2*/   0x80,0x00,0x23,0x00,0x2A,0xCC,0xF0,0x57,0x90,0x1F,0x52,0x78,0x00,0x68,0x00,0x07,
+	/*3*/   0xE0,0x43,0xA2,0x00,0x00,0x17,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
+	/*4*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x44,0x00,0x00,0x20,0x10,0x00,0x00,
+	/*5*/   0x00,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*6*/   0x53,0x00,0x01,0x00,0x99,0x99,0x99,0x99,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*7*/   0xB8,0x01,0x06,0x06,0x11,0x01,0xE0,0x13,0x03,0x22,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*8*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*9*/   0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*A*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*B*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*C*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*D*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*E*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	/*F*/   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
+	};
+
+void vdec_ntsc_common_init(void);
+void vdec_pal_common_init(void);
+void nvp1918_720h_nt(void);
+void nvp1918_720h_pal(void);
+void nvp1918_960h_nt(void);
+void nvp1918_960h_pal(void);
+void vdec_write_table(unsigned char chip_addr, unsigned char addr, unsigned char *tbl_ptr, unsigned char tbl_cnt);
+
+extern unsigned int vdec_mode;
+extern unsigned int vdec_slave_addr[2];
+void afe_reset(void)
+{
+	gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x03);
+	gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x03);
+	gpio_i2c_write(vdec_slave_addr[0], 0x01, gpio_i2c_read(vdec_slave_addr[0], 0x01)|0xF0);
+	gpio_i2c_write(vdec_slave_addr[1], 0x01, gpio_i2c_read(vdec_slave_addr[1], 0x01)|0xF0);
+	gpio_i2c_write(vdec_slave_addr[0], 0x01, gpio_i2c_read(vdec_slave_addr[0], 0x01)&0x0F);
+	gpio_i2c_write(vdec_slave_addr[1], 0x01, gpio_i2c_read(vdec_slave_addr[1], 0x01)&0x0F);
+}
+EXPORT_SYMBOL(afe_reset);
+
+void set_4ch_videosequence(void)
+{
+	gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x01);
+	gpio_i2c_write(vdec_slave_addr[0], 0xC0, 0x10);  //change video sequence here.
+	gpio_i2c_write(vdec_slave_addr[0], 0xC1, 0x32);
+	gpio_i2c_write(vdec_slave_addr[0], 0xCA, 0x01);  //only enable video port1
+}
+
+void vdec_system_init(void)
+{
+    int i = 0;
+
+	for(i=0;i<vdec_cnt;i++)
+	{
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+#ifdef VDEC_108M
+		//FIXME
+		printk(KERN_DEBUG "NVP1918 Clock 108M Mode\n");
+        gpio_i2c_write(vdec_slave_addr[i], 0x4A, 0x22);
+        gpio_i2c_write(vdec_slave_addr[i], 0x4B, 0x20);
+        gpio_i2c_write(vdec_slave_addr[i], 0x48, 0x60);
+        gpio_i2c_write(vdec_slave_addr[i], 0x48, 0x61);
+        gpio_i2c_write(vdec_slave_addr[i], 0x48, 0x60);
+        gpio_i2c_write(vdec_slave_addr[i], 0x5e, 0x80);
+        gpio_i2c_write(vdec_slave_addr[i], 0x38, 0x10);
+        gpio_i2c_write(vdec_slave_addr[i], 0x38, 0x00);
+#else
+		printk(KERN_DEBUG "NVP1918 Clock 144M Mode\n");
+		gpio_i2c_write(vdec_slave_addr[i], 0x4A, 0x03);
+       gpio_i2c_write(vdec_slave_addr[i], 0x4B, 0x10);
+        gpio_i2c_write(vdec_slave_addr[i], 0x48, 0x60);
+        gpio_i2c_write(vdec_slave_addr[i], 0x48, 0x61);
+        gpio_i2c_write(vdec_slave_addr[i], 0x48, 0x60);
+        gpio_i2c_write(vdec_slave_addr[i], 0x5e, 0x00);
+        gpio_i2c_write(vdec_slave_addr[i], 0x38, 0x10);
+        gpio_i2c_write(vdec_slave_addr[i], 0x38, 0x00);
+		msleep(100);
+#endif
+
+#if 1
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x48, 0x40);
+		msleep(10);
+		gpio_i2c_write(vdec_slave_addr[i], 0x48, 0x60);
+#endif
+	 }
+}
+
+void vdec_ntsc_common_init(void)
+{
+	int i = 0;
+
+	for(i=0;i<vdec_cnt;i++)
+	{
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+        vdec_write_table(vdec_slave_addr[i],0x00,NVP1918_FPGA_B0_NT_Buf,254);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+        vdec_write_table(vdec_slave_addr[i],0x00,NVP1918_FPGA_B1_NT_Buf,254);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x02);
+        vdec_write_table(vdec_slave_addr[i],0x00,NVP1918_FPGA_B2_NT_Buf,254);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+        vdec_write_table(vdec_slave_addr[i],0x00,NVP1918_FPGA_B3_NT_Buf,254);
+	}
+}
+
+void vdec_pal_common_init(void)
+{
+	int i = 0;
+
+	for(i=0;i<vdec_cnt;i++)
+	{
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+        vdec_write_table(vdec_slave_addr[i],0x00,NVP1918_FPGA_B0_PAL_Buf,254);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+        vdec_write_table(vdec_slave_addr[i],0x00,NVP1918_FPGA_B1_PAL_Buf,254);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x02);
+        vdec_write_table(vdec_slave_addr[i],0x00,NVP1918_FPGA_B2_PAL_Buf,254);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+        vdec_write_table(vdec_slave_addr[i],0x00,NVP1918_FPGA_B3_PAL_Buf,254);
+	}
+}
+
+void reversion2_fix(void)
+{
+	int i = 0, j=0;
+	for(i=0;i<vdec_cnt;i++)
+	{
+		if(chip_id[i] == NVP1914_R2 || chip_id[i] == NVP1114B_R2)
+		{
+			#ifdef VDEC_108M  //for nvp1114b r2 version
+			//bank0
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+			for(j=0;j<4;j++)
+			{
+				gpio_i2c_write(vdec_slave_addr[i], (0x30+j), 0x0c);  		//Y_delay setting
+				if(vdec_mode == VDEC_PAL)
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j), 0x3f);   	//h_delay setting
+				else
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j), 0x2f);     //h_delay VALUE NEEDS TO BE ODD!!! 12-14
+			}
+			//bank1
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);  //re-set the video sequence...
+			gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x10);
+			gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x32);
+			gpio_i2c_write(vdec_slave_addr[i], 0xC4, 0x10);
+			gpio_i2c_write(vdec_slave_addr[i], 0xC5, 0x32);
+			//bank3
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+
+			for(j=0;j<4;j++)
+			{
+				gpio_i2c_write(vdec_slave_addr[i], (0x54+j), 0x00);
+			}
+
+			gpio_i2c_write(vdec_slave_addr[i], 0x61, 0x00);
+			gpio_i2c_write(vdec_slave_addr[i], 0x62, 0x00);
+			gpio_i2c_write(vdec_slave_addr[i], 0x64, 0x00);
+			gpio_i2c_write(vdec_slave_addr[i], 0x65, 0x00);
+			for(j=0;j<4;j++)
+				gpio_i2c_write(vdec_slave_addr[i], (0x81+j*2), 0x08);
+
+			#else  //144MHZ
+			//bank0
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+			for(j=0;j<4;j++)
+			{
+				if(vdec_mode == VDEC_PAL_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x30+j), 0x13);  //Y_delay setting
+				else if(vdec_mode == VDEC_NTSC_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x30+j), 0x14);
+				else if(vdec_mode == VDEC_PAL)
+					gpio_i2c_write(vdec_slave_addr[i], (0x30+j), 0x11);
+				else
+					gpio_i2c_write(vdec_slave_addr[i], (0x30+j), 0x12);
+
+				if(vdec_mode == VDEC_PAL_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j), 0x07);  //h_delay VALUE NEEDS TO BE ODD!!! 12-14
+				else if(vdec_mode == VDEC_NTSC_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j), 0xe7);
+				else if(vdec_mode == VDEC_PAL)
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j), 0x7f);
+				else
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j), 0x6D);
+			}
+			//bank1
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);  //re-set the video sequence...
+			gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x10);
+			gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x32);
+			gpio_i2c_write(vdec_slave_addr[i], 0xC4, 0x10);
+			gpio_i2c_write(vdec_slave_addr[i], 0xC5, 0x32);
+			//bank3
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+			for(j=0;j<4;j++)
+			{
+				if(vdec_mode == VDEC_PAL_960 || vdec_mode == VDEC_NTSC_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x54+j), 0xBB);  //new modified.
+				else
+					gpio_i2c_write(vdec_slave_addr[i], (0x54+j), 0x8b);
+			}
+
+			gpio_i2c_write(vdec_slave_addr[i], 0x61, 0x53);
+			gpio_i2c_write(vdec_slave_addr[i], 0x62, 0x89);
+			gpio_i2c_write(vdec_slave_addr[i], 0x64, 0x22);
+			gpio_i2c_write(vdec_slave_addr[i], 0x65, 0x22);
+			for(j=0;j<4;j++)
+			{
+				if(vdec_mode == VDEC_PAL_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x81+j*2), 0x28);
+				else if(vdec_mode == VDEC_NTSC_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x81+j*2), 0x08);
+				else
+					gpio_i2c_write(vdec_slave_addr[i], (0x81+j*2), 0x48);
+			}
+			#endif
+		}
+		else if(chip_id[i] == NVP1918_R2 || chip_id[i] == NVP1118B_R2)
+		{
+			#ifdef VDEC_108M   //for nvp1118b r2 version
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+			gpio_i2c_write(vdec_slave_addr[i], 0x64, 0x00);
+			gpio_i2c_write(vdec_slave_addr[i], 0x65, 0x00);
+			#else  // for nvp1918_R2 144MHZ mode.
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+			for(j=0;j<8;j++)
+			{
+				if(vdec_mode == VDEC_PAL_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x30+j%4+j/4*0x80), 0x11);  //Y_delay setting
+				else if(vdec_mode == VDEC_NTSC_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x30+j%4+j/4*0x80), 0x0a);
+				else if(vdec_mode == VDEC_PAL)
+					gpio_i2c_write(vdec_slave_addr[i], (0x30+j%4+j/4*0x80), 0x11);
+				else
+					gpio_i2c_write(vdec_slave_addr[i], (0x30+j%4+j/4*0x80), 0x12);
+
+				if(vdec_mode == VDEC_PAL_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j%4+j/4*0x80), 0xb8);
+				else if(vdec_mode == VDEC_NTSC_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j%4+j/4*0x80), 0x9c);
+				else if(vdec_mode == VDEC_PAL)
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j%4+j/4*0x80), 0xa7);
+				else
+					gpio_i2c_write(vdec_slave_addr[i], (0x58+j%4+j/4*0x80), 0x96);
+			}
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+			for(j=0;j<8;j++)
+			{
+				if(vdec_mode == VDEC_PAL_960 || vdec_mode == VDEC_NTSC_960)
+					gpio_i2c_write(vdec_slave_addr[i], (0x81+j*2), 0x08);
+				else
+					gpio_i2c_write(vdec_slave_addr[i], (0x81+j*2), 0x48);
+			}
+			#endif
+
+		}
+	}
+}
+
+void nvp1918_720h_nt(void)
+{
+	int i = 0;
+
+	vdec_ntsc_common_init();
+
+	for(i=0;i<vdec_cnt;i++)
+	{
+		//bank 0
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x08, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x09, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x0A, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x0B, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x88, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8A, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0xA0);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x18, 0x22);
+		gpio_i2c_write(vdec_slave_addr[i], 0x19, 0x22);
+		gpio_i2c_write(vdec_slave_addr[i], 0x98, 0x22);
+		gpio_i2c_write(vdec_slave_addr[i], 0x99, 0x22);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x35, 0x82);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB5, 0x82);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x40, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x41, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x42, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x43, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC3, 0x01);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x4C, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4D, 0x00);
+   		gpio_i2c_write(vdec_slave_addr[i], 0x4E, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4F, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCC, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCD, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCE, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCF, 0x00);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x50, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x51, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x52, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x53, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD0, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD1, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD2, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD3, 0x00);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x54, 0xF1);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD4, 0xF1);
+
+#ifdef VDEC_108M
+		gpio_i2c_write(vdec_slave_addr[i], 0x58, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0x59, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5A, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5B, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD8, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD9, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDA, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDB, 0x20);
+#else
+		gpio_i2c_write(vdec_slave_addr[i], 0x58, 0x96);
+		gpio_i2c_write(vdec_slave_addr[i], 0x59, 0x96);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5A, 0x96);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5B, 0x96);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD8, 0x96);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD9, 0x96);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDA, 0x96);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDB, 0x96);
+#endif
+		gpio_i2c_write(vdec_slave_addr[i], 0x64, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x65, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x66, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x67, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0xe4, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0xe5, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0xe6, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0xe7, 0x08);
+		//bank 1
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA0, 0x40);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x54);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x76);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC3, 0x32);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC4, 0x54);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC5, 0x76);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC6, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC7, 0x32);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC8, 0x88);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC9, 0x88);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCA, 0x03);  //enable data port A&B
+		gpio_i2c_write(vdec_slave_addr[i], 0xCC, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCD, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCE, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCF, 0x10);
+
+		//bank 2
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x02);
+		gpio_i2c_write(vdec_slave_addr[i], 0x12, 0x00);
+
+		//bank 3
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0x20, 0x80);
+		gpio_i2c_write(vdec_slave_addr[i], 0x25, 0xDC);
+		gpio_i2c_write(vdec_slave_addr[i], 0x53, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x68, 0xff);
+		gpio_i2c_write(vdec_slave_addr[i], 0x69, 0xff);
+
+#ifdef VDEC_108M
+		gpio_i2c_write(vdec_slave_addr[i], 0x2c, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x62, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x63, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x81, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x83, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x85, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x87, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8D, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8F, 0x00);
+#else  //36MHz
+		gpio_i2c_write(vdec_slave_addr[i], 0x62, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x63, 0xFF);
+		gpio_i2c_write(vdec_slave_addr[i], 0x81, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x83, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x85, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x87, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8D, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8F, 0x40);
+#endif
+	}
+	reversion2_fix();
+	audio_init(vdec_slave_addr[i], 16, 0, 0);
+	vdec_system_init();
+}
+
+void nvp1918_720h_pal(void)
+{
+	int i = 0;
+
+
+	vdec_pal_common_init();
+
+	for(i=0;i<vdec_cnt;i++)
+	{
+		//bank 0
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x08, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x09, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x0A, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x0B, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x88, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8A, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0xdd);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x18, 0x33);
+		gpio_i2c_write(vdec_slave_addr[i], 0x19, 0x33);
+		gpio_i2c_write(vdec_slave_addr[i], 0x98, 0x33);
+		gpio_i2c_write(vdec_slave_addr[i], 0x99, 0x33);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x35, 0x02);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB5, 0x02);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x40, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x41, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x42, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x43, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC3, 0x00);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x4C, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4D, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4E, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4F, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCC, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCD, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCE, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCF, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x50, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x51, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x52, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x53, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD0, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD1, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD2, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD3, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x54, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD4, 0x01);
+#ifdef VDEC_108M
+		gpio_i2c_write(vdec_slave_addr[i], 0x58, 0x30);
+		gpio_i2c_write(vdec_slave_addr[i], 0x59, 0x30);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5A, 0x30);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5B, 0x30);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD8, 0x30);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD9, 0x30);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDA, 0x30);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDB, 0x30);
+#else
+		gpio_i2c_write(vdec_slave_addr[i], 0x58, 0xa7);
+		gpio_i2c_write(vdec_slave_addr[i], 0x59, 0xa7);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5A, 0xa7);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5B, 0xa7);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD8, 0xa7);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD9, 0xa7);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDA, 0xa7);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDB, 0xa7);
+#endif
+		gpio_i2c_write(vdec_slave_addr[i], 0x64, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0x65, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0x66, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0x67, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE4, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE5, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE6, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE7, 0x0D);
+
+		//bank 1
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA0, 0x4D);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x54);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x76);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC3, 0x32);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC4, 0x54);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC5, 0x76);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC6, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC7, 0x32);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC8, 0x88);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC9, 0x88);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCA, 0x03);  //enable data port A&B
+		gpio_i2c_write(vdec_slave_addr[i], 0xCC, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCD, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCE, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCF, 0x10);
+
+
+    //bank 2
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x02);
+		gpio_i2c_write(vdec_slave_addr[i], 0x12, 0x00);
+
+		//bank 3
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0x20, 0x80);
+		gpio_i2c_write(vdec_slave_addr[i], 0x25, 0xCC);
+		gpio_i2c_write(vdec_slave_addr[i], 0x53, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x68, 0xff);
+		gpio_i2c_write(vdec_slave_addr[i], 0x69, 0xff);
+#ifdef VDEC_108M
+		gpio_i2c_write(vdec_slave_addr[i], 0x62, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x63, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x81, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x83, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x85, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x87, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8D, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8F, 0x00);
+#else
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x62, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x63, 0xFF);
+		gpio_i2c_write(vdec_slave_addr[i], 0x81, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x83, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x85, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x87, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8D, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8F, 0x40);
+#endif
+
+	}
+	reversion2_fix();
+	audio_init(vdec_slave_addr[i], 16, 0, 0);
+
+	vdec_system_init();
+}
+
+void nvp1918_960h_nt(void)
+{
+	int i = 0;
+
+
+	vdec_ntsc_common_init();
+	//vdec_set_pll_72M();
+
+	for(i=0;i<vdec_cnt;i++)
+	{
+		//bank 0
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x08, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x09, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x0A, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x0B, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x88, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8A, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0xA0);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x18, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x19, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x98, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x99, 0x00);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x35, 0x82);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB5, 0x82);
+		gpio_i2c_write(vdec_slave_addr[i], 0x40, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x41, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x42, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x43, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC3, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4C, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4D, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4E, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4F, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCC, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCD, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCE, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCF, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x50, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x51, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x52, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x53, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD0, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD1, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD2, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD3, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x54, 0xF1);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD4, 0xF1);
+		/*gpio_i2c_write(vdec_slave_addr[i], 0x58, 0x9c);  //h_delay adjust...
+		gpio_i2c_write(vdec_slave_addr[i], 0x59, 0x9c);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5A, 0x9c);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5B, 0x9c);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD8, 0x9c);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD9, 0x9c);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDA, 0x9c);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDB, 0x9c);  */
+		gpio_i2c_write(vdec_slave_addr[i], 0x64, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x65, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x66, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x67, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE4, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE5, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE6, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE7, 0x08);
+
+		//bank 1
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA0, 0x40);
+
+#ifdef VDEC_144M
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x54);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x76);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC3, 0x32);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC4, 0x54);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC5, 0x76);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC6, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC7, 0x32);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC8, 0x88);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC9, 0x88);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCA, 0x03);  //enable data port A&B
+		gpio_i2c_write(vdec_slave_addr[i], 0xCC, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCD, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCE, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCF, 0x10);
+#endif
+
+    //bank 2
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x02);
+		gpio_i2c_write(vdec_slave_addr[i], 0x12, 0xFF);
+
+		//bank 3
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0x20, 0x80);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x62, 0x01);
+		//gpio_i2c_write(vdec_slave_addr[i], 0x68, 0xff);
+		//gpio_i2c_write(vdec_slave_addr[i], 0x69, 0xff);
+
+		gpio_i2c_write(vdec_slave_addr[i], 0x25, 0xDC);
+		gpio_i2c_write(vdec_slave_addr[i], 0x53, 0xFF);
+		gpio_i2c_write(vdec_slave_addr[i], 0x63, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x80, 0x40);
+		gpio_i2c_write(vdec_slave_addr[i], 0x81, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x83, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x85, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x87, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8D, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8F, 0x08);
+	}
+	reversion2_fix();
+	audio_init(vdec_slave_addr[i], 16, 0, 0);
+	vdec_system_init();
+}
+
+void nvp1918_960h_pal( void )
+{
+	int i=0;
+
+	vdec_pal_common_init();
+	//vdec_set_pll_72M();
+
+
+	for(i=0;i<vdec_cnt;i++)
+	{
+		//bank 0
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x08, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x09, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x0A, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x0B, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x88, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8A, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0xdd);
+		gpio_i2c_write(vdec_slave_addr[i], 0x18, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x19, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x98, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x99, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x35, 0x02);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB5, 0x02);
+		gpio_i2c_write(vdec_slave_addr[i], 0x40, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x41, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x42, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x43, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC3, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4C, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4D, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4E, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x4F, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCC, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCD, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCE, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCF, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x50, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x51, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x52, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x53, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD0, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD1, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD2, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD3, 0x04);
+		gpio_i2c_write(vdec_slave_addr[i], 0x54, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD4, 0x01);
+		/*gpio_i2c_write(vdec_slave_addr[i], 0x58, 0xb8);
+		gpio_i2c_write(vdec_slave_addr[i], 0x59, 0xb8);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5A, 0xb8);
+		gpio_i2c_write(vdec_slave_addr[i], 0x5B, 0xb8);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD8, 0xb8);
+		gpio_i2c_write(vdec_slave_addr[i], 0xD9, 0xb8);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDA, 0xb8);
+		gpio_i2c_write(vdec_slave_addr[i], 0xDB, 0xb8); */
+		gpio_i2c_write(vdec_slave_addr[i], 0x64, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0x65, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0x66, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0x67, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE4, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE5, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE6, 0x0D);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE7, 0x0D);
+
+		//bank 1
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA0, 0x4D);
+
+#ifdef VDEC_144M
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x54);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC1, 0x76);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC3, 0x32);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC4, 0x54);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC5, 0x76);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC6, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC7, 0x32);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC8, 0x88);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC9, 0x88);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCA, 0x03);  //enable data port A&B
+		gpio_i2c_write(vdec_slave_addr[i], 0xCC, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCD, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCE, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xCF, 0x10);
+#endif
+
+    //bank 2
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x02);
+		gpio_i2c_write(vdec_slave_addr[i], 0x12, 0xFF);
+
+		//bank 3
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0x20, 0x80);
+		gpio_i2c_write(vdec_slave_addr[i], 0x62, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0x25, 0xCC);
+		gpio_i2c_write(vdec_slave_addr[i], 0x53, 0xFF);
+		gpio_i2c_write(vdec_slave_addr[i], 0x63, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0x81, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x83, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x85, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x87, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x89, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8D, 0x08);
+		gpio_i2c_write(vdec_slave_addr[i], 0x8F, 0x08);
+	}
+	reversion2_fix();
+	audio_init(vdec_slave_addr[i], 16, 0, 0);
+	vdec_system_init();
+}
+
+
+void vdec_video_set_contrast(unsigned int ch, unsigned int value, unsigned int v_format)
+{
+    int num;
+	int i = 0;
+
+	if(ch != 0xff)
+    {
+		if(ch < 8)
+		{
+			gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x00);
+			if(value >= 100)
+			{
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4)?(0x90+(ch%4)):(0x10+(ch%4)),
+													(vdec_contrast_tbl[v_format]+value-100));
+			}
+      	  	   	else
+			{
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4)?(0x90+(ch%4)):(0x10+(ch%4)),
+													(vdec_contrast_tbl[v_format]+(0xff-(98-value))));
+			}
+		}
+		else
+		{
+			ch-=8;
+			gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x00);
+			if(value >= 100)
+			{
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4)?(0x90+(ch%4)):(0x10+(ch%4)),
+													(vdec_contrast_tbl[v_format]+value-100));
+			}
+   	  	   	else
+			{
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4)?(0x90+(ch%4)):(0x10+(ch%4)),
+													(vdec_contrast_tbl[v_format]+(0xff-(98-value))));
+			}
+
+		}
+	}
+	else
+	{
+		for(i=0;i<vdec_cnt;i++)
+		{
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+			for(num=0; num<8; num++)
+			{
+				if(value >= 100)
+					gpio_i2c_write(vdec_slave_addr[i], (num/4%2)?(0x90+(num%4)):(0x10+(num%4)),
+																(vdec_contrast_tbl[v_format]+value-100));
+              	else
+					gpio_i2c_write(vdec_slave_addr[i], (num/4%2)?(0x90+(num%4)):(0x10+(num%4)),
+																(vdec_contrast_tbl[v_format]+(0xff-(98-value))));
+			}
+		}
+	}
+}
+
+void vdec_video_set_brightness(unsigned int ch, unsigned int value, unsigned int v_format)
+{
+    int num;
+	int i=0;
+
+	if(ch != SET_ALL_CH)
+    {
+		if(ch<8)
+		{
+			gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x00);
+			if(value >= 100)
+			{
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4)?(0x8c+(ch%4)):(0x0c+(ch%4)),
+																(vdec_brightness_tbl[v_format]+value-100));
+			}
+       	   	else
+			{
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4)?(0x8c+(ch%4)):(0x0c+(ch%4)),
+																(vdec_brightness_tbl[v_format]+(0xff-(98-value))));
+			}
+		}
+		else
+		{
+			ch=-8;
+			gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x00);
+			if(value >= 100)
+			{
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4)?(0x8c+(ch%4)):(0x0c+(ch%4)),
+																(vdec_brightness_tbl[v_format]+value-100));
+			}
+       	   	else
+			{
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4)?(0x8c+(ch%4)):(0x0c+(ch%4)),
+																(vdec_brightness_tbl[v_format]+(0xff-(98-value))));
+			}
+		}
+	}
+	else
+	{
+		for(i=0;i<vdec_cnt;i++)
+		{
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+			for(num=0; num<8; num++)
+			{
+				if(value >= 100)
+				{
+					gpio_i2c_write(vdec_slave_addr[i], (num/4%2)?(0x8c+(num%4)):(0x0c+(num%4)),
+																(vdec_brightness_tbl[v_format]+value-100));
+				}
+              	else
+				{
+					gpio_i2c_write(vdec_slave_addr[i], (num/4%2)?(0x8c+(num%4)):(0x0c+(num%4)),
+																(vdec_brightness_tbl[v_format]+(0xff-(98-value))));
+				}
+			}
+		}
+	}
+}
+
+void vdec_video_set_saturation(unsigned int ch, unsigned int value, unsigned int v_format)
+{
+    int num;
+	int i = 0;
+
+
+	if(ch != SET_ALL_CH)
+    {
+		if(ch<8)
+		{
+			gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x00);
+			gpio_i2c_write(vdec_slave_addr[0], (ch/4)?(0xbc+(ch%4)):(0x3c+(ch%4)),
+														(vdec_saturation_tbl[v_format]+value-100));
+		}
+		else
+		{
+			gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x00);
+			gpio_i2c_write(vdec_slave_addr[1], (ch/4)?(0xbc+(ch%4)):(0x3c+(ch%4)),
+														(vdec_saturation_tbl[v_format]+value-100));
+		}
+	}
+	else
+	{
+		for(i=0;i<vdec_cnt;i++)
+		{
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+			for(num=0; num<8; num++)
+			{
+				gpio_i2c_write(vdec_slave_addr[i], (num/4%2)?(0xbc+(num%4)):(0x3c+(num%4)),
+																(vdec_saturation_tbl[v_format]+value-100));
+			}
+		}
+	}
+}
+
+void vdec_video_set_hue(unsigned int ch, unsigned int value, unsigned int v_format)
+{
+    int num;
+	int i = 0;
+
+
+	if(ch != SET_ALL_CH)
+    {
+		if(ch<8)
+		{
+			gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x00);
+			gpio_i2c_write(vdec_slave_addr[0], (ch/4)?(0xc0+(ch%4)):(0x40+(ch%4)), (vdec_hue_tbl[v_format]+value-100));
+		}
+		else
+		{
+			ch-=8;
+			gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x00);
+			gpio_i2c_write(vdec_slave_addr[1], (ch/4)?(0xc0+(ch%4)):(0x40+(ch%4)), (vdec_hue_tbl[v_format]+value-100));
+		}
+	}
+	else
+	{
+		for(i=0;i<vdec_cnt;i++)
+		{
+			gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+			for(num=0; num<8; num++)
+			{
+				gpio_i2c_write(vdec_slave_addr[i], (num/4%2)?(0xc0+(num%4)):(0x40+(num%4)),
+																(vdec_hue_tbl[v_format]+value-100));
+			}
+		}
+	}
+}
+
+void vdec_write_table(unsigned char chip_addr, unsigned char addr, unsigned char *tbl_ptr, unsigned char tbl_cnt)
+{
+	unsigned char i = 0;
+
+	for(i = 0; i < tbl_cnt; i ++)
+	{
+		gpio_i2c_write(chip_addr, (addr + i), *(tbl_ptr + i));
+	}
+}
+
+
+void vdec_low_resoultion_enable(unsigned char ch)
+{
+	unsigned int i = 0;
+	unsigned int ii = 0;
+
+	if(ch != SET_ALL_CH)
+	{
+		if(ch<8)
+		{
+			if((vdec_mode == VDEC_NTSC_960) || (vdec_mode == VDEC_NTSC))
+			{
+				gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4) ? (0x88 + ch%4) : (0x08 + ch%4), 0xE0);
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4) ? (0x74 + ch%4) : (0x14 + ch%4), 0x00);
+				gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[0], 0x15 + ch,  0x38);
+				gpio_i2c_write(vdec_slave_addr[0], 0x50, 0x00);
+			}
+			else
+			{
+				gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4) ? (0x88 + ch%4) : (0x08 + ch%4), 0xFD);
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4) ? (0x74 + ch%4) : (0x14 + ch%4), 0x00);
+				gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[0], 0x15 + ch,  0x31);
+				gpio_i2c_write(vdec_slave_addr[0], 0x50, 0xff);
+			}
+		}
+		else
+		{
+			ch-=8;
+			if((vdec_mode == VDEC_NTSC_960) || (vdec_mode == VDEC_NTSC))
+			{
+				gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4) ? (0x88 + ch%4) : (0x08 + ch%4), 0xE0);
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4) ? (0x74 + ch%4) : (0x14 + ch%4), 0x00);
+				gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[1], 0x15 + ch,  0x38);
+				gpio_i2c_write(vdec_slave_addr[1], 0x50, 0x00);
+			}
+			else
+			{
+				gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4) ? (0x88 + ch%4) : (0x08 + ch%4), 0xFD);
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4) ? (0x74 + ch%4) : (0x14 + ch%4), 0x00);
+				gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[1], 0x15 + ch,  0x31);
+				gpio_i2c_write(vdec_slave_addr[1], 0x50, 0xff);
+			}
+
+		}
+	}
+	else
+	{
+		for(i=0;i<vdec_cnt;i++)
+		{
+			if((vdec_mode == VDEC_NTSC_960) || (vdec_mode == VDEC_NTSC))
+			{
+				gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x08, 0xE0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x09, 0xE0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x0A, 0xE0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x0B, 0xE0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x88, 0xE0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x89, 0xE0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x8A, 0xE0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0xE0);
+
+				gpio_i2c_write(vdec_slave_addr[i], 0x14, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x15, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x16, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x17, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x94, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x95, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x96, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x97, 0x00);
+
+				gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[i], 0x90, 0x38);
+				gpio_i2c_write(vdec_slave_addr[i], 0x91, 0x38);
+				gpio_i2c_write(vdec_slave_addr[i], 0x92, 0x38);
+				gpio_i2c_write(vdec_slave_addr[i], 0x93, 0x38);
+				gpio_i2c_write(vdec_slave_addr[i], 0x94, 0x38);
+				gpio_i2c_write(vdec_slave_addr[i], 0x95, 0x38);
+				gpio_i2c_write(vdec_slave_addr[i], 0x96, 0x38);
+				gpio_i2c_write(vdec_slave_addr[i], 0x97, 0x38);
+				gpio_i2c_write(vdec_slave_addr[i], 0x50, 0x00);
+			}
+			else
+			{
+				gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x08, 0xFD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x09, 0xFD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x0A, 0xFD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x0B, 0xFD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x88, 0xFD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x89, 0xFD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x8A, 0xFD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0xFD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x14, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x15, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x16, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x17, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x94, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x95, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x96, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x97, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[i], 0x90, 0x31);
+				gpio_i2c_write(vdec_slave_addr[i], 0x91, 0x31);
+				gpio_i2c_write(vdec_slave_addr[i], 0x92, 0x31);
+				gpio_i2c_write(vdec_slave_addr[i], 0x93, 0x31);
+				gpio_i2c_write(vdec_slave_addr[i], 0x94, 0x31);
+				gpio_i2c_write(vdec_slave_addr[i], 0x95, 0x31);
+				gpio_i2c_write(vdec_slave_addr[i], 0x96, 0x31);
+				gpio_i2c_write(vdec_slave_addr[i], 0x97, 0x31);
+				gpio_i2c_write(vdec_slave_addr[i], 0x50, 0xFF);
+			}
+		}
+	}
+}
+
+void vdec_low_resoultion_disable(unsigned char ch)
+{
+	unsigned int i = 0;
+
+	if(ch != SET_ALL_CH)
+	{
+		if(ch<8)
+		{
+			if((vdec_mode == VDEC_NTSC_960) || (vdec_mode == VDEC_NTSC))
+			{
+				gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4) ? (0x88 + ch%4) : (0x08 + ch%4), 0xa0);
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4) ? (0x74 + ch%4) : (0x14 + ch%4), 0x80);
+				gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[0], 0x15 + ch,  0x08);
+				gpio_i2c_write(vdec_slave_addr[0], 0x50, 0x00);
+			}
+			else
+			{
+				gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4) ? (0x88 + ch%4) : (0x08 + ch%4), 0xdd);
+				gpio_i2c_write(vdec_slave_addr[0], (ch/4) ? (0x74 + ch%4) : (0x14 + ch%4), 0x80);
+				gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[0], 0x15 + ch,  0x01);
+				gpio_i2c_write(vdec_slave_addr[0], 0x50, 0x00);
+			}
+		}
+		else
+		{
+			if((vdec_mode == VDEC_NTSC_960) || (vdec_mode == VDEC_NTSC))
+			{
+				gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4) ? (0x88 + ch%4) : (0x08 + ch%4), 0xa0);
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4) ? (0x74 + ch%4) : (0x14 + ch%4), 0x80);
+				gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[1], 0x15 + ch,  0x08);
+				gpio_i2c_write(vdec_slave_addr[1], 0x50, 0x00);
+			}
+			else
+			{
+				gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4) ? (0x88 + ch%4) : (0x08 + ch%4), 0xdd);
+				gpio_i2c_write(vdec_slave_addr[1], (ch/4) ? (0x74 + ch%4) : (0x14 + ch%4), 0x80);
+				gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[1], 0x15 + ch,  0x01);
+				gpio_i2c_write(vdec_slave_addr[1], 0x50, 0x00);
+			}
+
+		}
+	}
+	else
+	{
+		for(i=0;i<vdec_cnt;i++)
+		{
+			if((vdec_mode == VDEC_NTSC_960) || (vdec_mode == VDEC_NTSC))
+			{
+				gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x08, 0xA0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x09, 0xA0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x0A, 0xA0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x0B, 0xA0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x88, 0xA0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x89, 0xA0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x8A, 0xA0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0xA0);
+				gpio_i2c_write(vdec_slave_addr[i], 0x14, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x15, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x16, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x17, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x94, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x95, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x96, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x97, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[i], 0x90, 0x08);
+				gpio_i2c_write(vdec_slave_addr[i], 0x91, 0x08);
+				gpio_i2c_write(vdec_slave_addr[i], 0x92, 0x08);
+				gpio_i2c_write(vdec_slave_addr[i], 0x93, 0x08);
+				gpio_i2c_write(vdec_slave_addr[i], 0x94, 0x08);
+				gpio_i2c_write(vdec_slave_addr[i], 0x95, 0x08);
+				gpio_i2c_write(vdec_slave_addr[i], 0x96, 0x08);
+				gpio_i2c_write(vdec_slave_addr[i], 0x97, 0x08);
+				gpio_i2c_write(vdec_slave_addr[i], 0x50, 0x00);
+			}
+			else
+			{
+				gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x00);
+				gpio_i2c_write(vdec_slave_addr[i], 0x08, 0xDD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x09, 0xDD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x0A, 0xDD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x0B, 0xDD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x88, 0xDD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x89, 0xDD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x8A, 0xDD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x8B, 0xDD);
+				gpio_i2c_write(vdec_slave_addr[i], 0x14, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x15, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x16, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x17, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x94, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x95, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x96, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0x97, 0x80);
+				gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+				gpio_i2c_write(vdec_slave_addr[i], 0x90, 0x01);
+				gpio_i2c_write(vdec_slave_addr[i], 0x91, 0x01);
+				gpio_i2c_write(vdec_slave_addr[i], 0x92, 0x01);
+				gpio_i2c_write(vdec_slave_addr[i], 0x93, 0x01);
+				gpio_i2c_write(vdec_slave_addr[i], 0x94, 0x01);
+				gpio_i2c_write(vdec_slave_addr[i], 0x95, 0x01);
+				gpio_i2c_write(vdec_slave_addr[i], 0x96, 0x01);
+				gpio_i2c_write(vdec_slave_addr[i], 0x97, 0x01);
+				gpio_i2c_write(vdec_slave_addr[i], 0x50, 0x00);
+			}
+		}
+	}
+}
+
+
+void vdec_bw_detection_enable(unsigned int ch)
+{
+	unsigned int i = 0;
+
+	for(i=0;i<vdec_cnt;i++)
+	{
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x98);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0xba);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC4, 0xdc);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC6, 0xfe);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x02);
+		gpio_i2c_write(vdec_slave_addr[i], 0x13, 0x0c);
+		gpio_i2c_write(vdec_slave_addr[i], 0x14, 0xc0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE0, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE2, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE4, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE6, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE8, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xEA, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xEC, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xEE, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF0, 0x18);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF1, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF2, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF4, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF5, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA0, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA1, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA2, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA3, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA4, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA5, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA6, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA7, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA8, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA9, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAA, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAB, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAC, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAD, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAE, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAF, 0xA0);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB0, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB1, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB2, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB3, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB4, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB5, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB6, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB7, 0x70);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB8, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB9, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBA, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBB, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBC, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBD, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBE, 0x20);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBF, 0x20);
+	}
+}
+
+
+void vdec_bw_detection_disable(unsigned int ch)
+{
+	unsigned int i = 0;
+
+	for(i=0;i<vdec_cnt;i++)
+	{
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x01);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC0, 0x10);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC2, 0x32);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC4, 0x54);
+		gpio_i2c_write(vdec_slave_addr[i], 0xC6, 0x76);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x02);
+		gpio_i2c_write(vdec_slave_addr[i], 0x00, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0x04, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0x08, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0x0C, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0x13, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE0, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE2, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE4, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE6, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xE8, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xEA, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xEC, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xEE, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF0, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF1, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF2, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF4, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xF5, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xFF, 0x03);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA0, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA1, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA2, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA3, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA4, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA5, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA6, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA7, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA8, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xA9, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAA, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAB, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAC, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAD, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAE, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xAF, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB0, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB1, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB2, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB3, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB4, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB5, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB6, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB7, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB8, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xB9, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBA, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBB, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBC, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBD, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBE, 0x00);
+		gpio_i2c_write(vdec_slave_addr[i], 0xBF, 0x00);
+	}
+}
+
+unsigned int vdec_bw_black_count_read(unsigned int ch)
+{
+	unsigned int i = 0;
+	unsigned int value = 0;
+
+	if(ch<8)
+	{
+		gpio_i2c_write(vdec_slave_addr[0], 0xFF, 0x02);
+		gpio_i2c_write(vdec_slave_addr[0], 0xF3, ch);
+		value = gpio_i2c_read(vdec_slave_addr[0], 0xf9);
+	}
+	else
+	{
+		gpio_i2c_write(vdec_slave_addr[1], 0xFF, 0x02);
+		gpio_i2c_write(vdec_slave_addr[1], 0xF3, ch);
+		value = gpio_i2c_read(vdec_slave_addr[1], 0xf9);
+	}
+	return value;
+}
+
diff -uNr mpp/extdrv_hi3520A/nvp1918/video.h mpp.modified/extdrv_hi3520A/nvp1918/video.h
--- mpp/extdrv_hi3520A/nvp1918/video.h	1970-01-01 08:00:00.000000000 +0800
+++ mpp.modified/extdrv_hi3520A/nvp1918/video.h	2015-12-27 15:23:19.419703014 +0800
@@ -0,0 +1,23 @@
+#ifndef _VDEC_VIDEO_HI_
+#define _VDEC_VIDEO_HI_
+
+void vdec_ntsc_common_init(void);
+void vdec_pal_common_init(void);
+void nvp1918_720h_nt( void );
+void nvp1918_720h_pal( void );
+void nvp1918_960h_nt( void );
+void nvp1918_960h_pal( void );
+
+void vdec_video_set_contrast(unsigned int ch, unsigned int value, unsigned int v_format);
+void vdec_video_set_brightness(unsigned int ch, unsigned int value, unsigned int v_format);
+void vdec_video_set_saturation(unsigned int ch, unsigned int value, unsigned int v_format);
+void vdec_video_set_hue(unsigned int ch, unsigned int value, unsigned int v_format);
+
+
+void vdec_low_resoultion_enable(unsigned char ch);
+void vdec_low_resoultion_disable(unsigned char ch);
+void vdec_bw_detection_enable(unsigned int ch);
+void vdec_bw_detection_disable(unsigned int ch);
+unsigned int vdec_bw_black_count_read(unsigned int ch);
+
+#endif
